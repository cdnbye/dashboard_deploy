var b=Object.defineProperty;var g=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var D=(a,t,e)=>t in a?b(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,p=(a,t)=>{for(var e in t||(t={}))w.call(t,e)&&D(a,e,t[e]);if(g)for(var e of g(t))k.call(t,e)&&D(a,e,t[e]);return a};import{u as P,_ as S}from"./use-echarts-CRrpZ6nM.js";import{a5 as E,R as A,X as O,a6 as R,af as T,ak as $,ab as B}from"../jse/index-index-BG6jV3fR.js";const N=E({__name:"line-chart",props:{data:{default:()=>({})},optionData:{default:()=>({})},secondData:{default:()=>({})},showP2p:{type:Boolean,default:!1}},setup(a){const t=A(),{renderEcharts:e}=P(t);O([()=>a.data,()=>a.optionData,()=>a.secondData],()=>{l()},{immediate:!0,deep:!0}),R(()=>{setTimeout(()=>{l()},30)});function l(){var c,u,d,m,h,f,y;const o=[],i=[],r=["rgba(18,76,229,0.78)","rgba(255,1,1,0.47)"];Object.keys(a.data).forEach((n,x)=>{i.push(n),o.push({areaStyle:{},name:n,markPoint:{label:{show:!0},data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:r[x],lineStyle:{color:r[x],width:2}},smooth:!0,type:"line",data:a.data[n],animationDuration:2800,animationEasing:"cubicInOut"})});const s=[p({name:(c=a.optionData)!=null&&c.unit?`${(u=a.optionData)==null?void 0:u.yName}(${(d=a.optionData)==null?void 0:d.unit})`:`${(m=a.optionData)==null?void 0:m.yName}`,axisTick:{show:!1}},(h=a.optionData)==null?void 0:h.yAxis)];a.showP2p&&s.push({name:"P2P Ratio",max:100,min:0,axisTick:{show:!1},position:"right",axisLabel:{formatter:"{value} %"}}),Object.keys(a.secondData).forEach(n=>{i.push(n),o.push({areaStyle:{},name:n,markPoint:{label:{show:!0},data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},yAxisIndex:s.length-1,smooth:!0,type:"line",data:a.secondData[n],animationDuration:2800,animationEasing:"cubicInOut"})}),e({grid:{left:30,right:30,bottom:20,top:30,containLabel:!0},series:o,tooltip:{padding:[5,10],textStyle:{align:"left"},axisPointer:{type:"cross",lineStyle:{color:"#019680",width:1}},trigger:"axis"},xAxis:{splitLine:{lineStyle:{type:"solid",width:1},show:!0},data:(y=(f=a.optionData)==null?void 0:f.xData)!=null?y:[],boundaryGap:!1,axisTick:{show:!0}},yAxis:s,legend:{data:i}})}return(o,i)=>(T(),$(B(S),{ref_key:"chartRef",ref:t,height:"400px"},null,512))}});export{N as _};
