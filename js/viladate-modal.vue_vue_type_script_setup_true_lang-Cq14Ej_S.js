var _=(D,y,m)=>new Promise((u,n)=>{var v=s=>{try{p(m.next(s))}catch(l){n(l)}},c=s=>{try{p(m.throw(s))}catch(l){n(l)}},p=s=>s.done?u(s.value):Promise.resolve(s.value).then(v,c);p((m=m.apply(D,y)).next())});import{y as k,$ as a,R as h,z as N}from"./bootstrap-CgpL34Qf.js";import{c as C}from"./domain-CSTKk2DY.js";import{A as F}from"./index-hzDIT15n.js";import{T as w,a as f}from"./index-DiybfSWs.js";import{a5 as R,R as S,Y as A,bw as B,ag as g,ah as V,ai as o,ar as r,n as t,ab as e,aq as i,ap as d,al as b,bD as E}from"../jse/index-index-CBSM48l5.js";import{u as H}from"./use-modal-Dp_oiybZ.js";const M={class:"pb-3"},O={class:"px-5"},$={class:"flex items-center py-3 pb-5"},j={class:"mr-5"},W=R({__name:"viladate-modal",emits:["success"],setup(D,{emit:y}){const m=y,u=S("dns"),n=A({id:"",domain:"",text:""}),[v,c]=H({onConfirm:()=>_(this,null,function*(){p()}),onOpened(){const l=c.getData();Object.assign(n,l)}});function p(){return _(this,null,function*(){c.setState({loading:!0});const[l]=yield B(C(n.id));c.setState({loading:!1}),l||(k.success({message:a("common.success"),description:a("page.domain.verifySuccess")}),c.close(),m("success"))})}function s(){E({source:n.text,fileName:"auth.txt"})}return(l,x)=>(g(),V(e(v),{"cancel-text":e(a)("page.domain.verifyLater"),"confirm-text":e(a)("page.domain.verifyNow"),title:e(a)("page.domain.verifyDomain"),class:"w-1/2"},{default:o(()=>[r("div",M,[t(e(F),{closable:!1,description:e(a)("page.domain.certificationTip"),title:"",type:"warning"},null,8,["description"])]),r("div",O,[r("div",$,[r("div",j,i(e(a)("page.domain.userVerifyDomain.verifyWay")),1),t(e(N),{value:u.value,"onUpdate:value":x[0]||(x[0]=T=>u.value=T),name:"way"},{default:o(()=>[t(e(h),{value:"dns"},{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.DNSVerify")),1)]),_:1}),t(e(h),{value:"file"},{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.fileVerify")),1)]),_:1})]),_:1},8,["value"])]),u.value==="dns"?(g(),V(e(w),{key:0},{default:o(()=>[t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.verifyTipHead"))+" "+i(n.domain)+" "+i(e(a)("page.domain.userVerifyDomain.verifyTipEnd"))+" ",1),r("div",null,i(n.text),1)]),_:1}),t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.doneTip")),1)]),_:1})]),_:1})):b("",!0),u.value==="file"?(g(),V(e(w),{key:1},{default:o(()=>[t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.downloadFileHead"))+" ",1),r("a",{class:"vben-link",onClick:s},i(e(a)("page.domain.userVerifyDomain.downloadFileEnd")),1)]),_:1}),t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.uploadFile"))+"http://"+i(n.domain)+"/ or https://"+i(n.domain)+" ",1),r("div",null,i(e(a)("page.domain.userVerifyDomain.fileName")),1)]),_:1}),t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.navVisitHead"))+"http(s)://"+i(n.domain)+"/auth.txt "+i(e(a)("page.domain.userVerifyDomain.navVisitEnd")),1)]),_:1}),t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.doneTip")),1)]),_:1})]),_:1})):b("",!0)])]),_:1},8,["cancel-text","confirm-text","title"]))}});export{W as _};
