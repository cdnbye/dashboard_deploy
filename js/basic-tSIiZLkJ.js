var b=(t,e,n)=>new Promise((i,s)=>{var d=u=>{try{g(n.next(u))}catch(h){s(h)}},I=u=>{try{g(n.throw(u))}catch(h){s(h)}},g=u=>u.done?i(u.value):Promise.resolve(u.value).then(d,I);g((n=n.apply(t,e)).next())});import{v as G,d4 as Y,w as F,L as W,i as Z,k as K,u as Q,cc as J,aG as X,b_ as ee,a as te,d3 as ne,b as L,$ as y,aH as V,y as ie,d5 as oe,j as se,bZ as re,aJ as ae,f as ce,d6 as pe,d7 as P,l as ue,d8 as le}from"./bootstrap-CgpL34Qf.js";import{u as de}from"./app-DvGgY6y1.js";import{a5 as T,aY as fe,aZ as he,X as j,ag as _,am as R,n as f,ai as w,ab as o,aj as me,R as D,J as k,a6 as H,ah as U,al as B,ar as M,F as we,q as ge,e as ye,bw as Ie,ap as ve,aq as Ce,bR as Se,a2 as $e}from"../jse/index-index-CBSM48l5.js";import{u as N}from"./use-modal-Dp_oiybZ.js";import{u as z}from"./form-Cm2BdYzg.js";import{e as be}from"./order-8Mb5iG_T.js";import{_ as _e,a as Ne,b as ke,c as Te}from"./layout.vue_vue_type_script_setup_true_lang-CctAsQeK.js";import"./domain-CSTKk2DY.js";import"./x-Br57HnM1.js";import"./loading-Dx-bVRTa.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-DHzyheKu.js";import"./arrow-down-CyiTgHjm.js";import"./use-drawer-DIaaoXVM.js";import"./copy-C6DX7EL4.js";import"./rotate-cw-CF1q9yFj.js";const Me=G("BookOpenTextIcon",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]);var Ue=function(){function t(e){this.parent=e}return t.prototype.setMessageText=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","message:text",[e]])},t.prototype.send=function(e,n){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:send",[e,n]])},t.prototype.sendText=function(e){this.send("text",e)},t.prototype.sendFile=function(e){this.send("file",e)},t.prototype.sendAnimation=function(e){this.send("animation",e)},t.prototype.sendAudio=function(e){this.send("audio",e)},t.prototype.show=function(e,n){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:show",[e,n]])},t.prototype.showText=function(e){this.show("text",e)},t.prototype.showFile=function(e){this.show("file",e)},t.prototype.showAnimation=function(e){this.show("animation",e)},t.prototype.showAudio=function(e){this.show("audio",e)},t.prototype.showPicker=function(e){this.show("picker",e)},t.prototype.showField=function(e){this.show("field",e)},t.prototype.showCarousel=function(e){this.show("carousel",e)},t.prototype.markAsRead=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:read"])},t.prototype.startThread=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:thread:start",[e]])},t.prototype.endThread=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:thread:end",[e]])},t.prototype.onMessageSent=function(e){this.parent.createSingletonIfNecessary(),this.offMessageSent(),window.$crisp.push(["on","message:sent",e])},t.prototype.offMessageSent=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:sent"])},t.prototype.onMessageReceived=function(e){this.parent.createSingletonIfNecessary(),this.offMessageReceived(),window.$crisp.push(["on","message:received",e])},t.prototype.offMessageReceived=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:received"])},t.prototype.onMessageComposeSent=function(e){this.parent.createSingletonIfNecessary(),this.offMessageComposeSent(),window.$crisp.push(["on","message:compose:sent",e])},t.prototype.offMessageComposeSent=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:compose:sent"])},t.prototype.onMessageComposeReceived=function(e){this.parent.createSingletonIfNecessary(),this.offMessageComposeReceived(),window.$crisp.push(["on","message:compose:received",e])},t.prototype.offMessageComposeReceived=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:compose:received"])},t}(),Pe=function(){function t(e){this.parent=e}return t.prototype.setNickname=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:nickname",[e]])},t.prototype.setEmail=function(e,n){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:email",[e,n]])},t.prototype.setPhone=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:phone",[e]])},t.prototype.setAvatar=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:avatar",[e]])},t.prototype.setCompany=function(e,n){var i={};n&&(n.url&&(i.url=n.url),n.description&&(i.description=n.description),n.employment&&(i.employment=[n.employment.title],n.employment.role&&i.employment.push(n.employment.role))),this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:company",[e,i]])},t.prototype.getEmail=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:email"):null},t.prototype.getPhone=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:phone"):null},t.prototype.getNickname=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:nickname"):null},t.prototype.getAvatar=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:avatar"):null},t.prototype.getCompany=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:company"):null},t.prototype.onEmailChanged=function(e){this.parent.isCrispInjected()&&(this.offEmailChanged(),window.$crisp.push(["on","user:email:changed",e]))},t.prototype.offEmailChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:email:changed"])},t.prototype.onPhoneChanged=function(e){this.parent.isCrispInjected()&&(this.offPhoneChanged(),window.$crisp.push(["on","user:phone:changed",e]))},t.prototype.offPhoneChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:phone:changed"])},t.prototype.onNicknameChanged=function(e){this.parent.isCrispInjected()&&(this.offNicknameChanged(),window.$crisp.push(["on","user:nickname:changed",e]))},t.prototype.offNicknameChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:nickname:changed"])},t.prototype.onAvatarChanged=function(e){this.parent.isCrispInjected()&&(this.offAvatarChanged(),window.$crisp.push(["on","user:avatar:changed",e]))},t.prototype.offAvatarChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:avatar:changed"])},t}(),De=function(){function t(e){this.parent=e}return t.prototype.run=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","trigger:run",[e]])},t}(),O;(function(t){t.Red="red",t.Orange="orange",t.Yellow="yellow",t.Green="green",t.Blue="blue",t.Purple="purple",t.Pink="pink",t.Brown="brown",t.Grey="grey",t.Black="black"})(O||(O={}));var Ae=function(){function t(e){this.parent=e}return t.prototype.reset=function(e){e===void 0&&(e=!1),this.parent.isCrispInjected()&&window.$crisp.push(["do","session:reset",[e]])},t.prototype.setSegments=function(e,n){this.parent.createSingletonIfNecessary(),$crisp.push(["set","session:segments",[e,n]])},t.prototype.setData=function(e){var n=this,i=[];Object.entries(e).forEach(function(s){n.isValidDataValue(s[0])&&i.push([s[0],s[1]])}),this.parent.createSingletonIfNecessary(),$crisp.push(["set","session:data",[i]])},t.prototype.pushEvent=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=O.Blue),this.parent.isCrispInjected()&&window.$crisp.push(["set","session:event",[[[e,n,i]]]])},t.prototype.getData=function(e){if(this.parent.isCrispInjected())return window.$crisp.get("session:data",e)},t.prototype.getIdentifier=function(){return this.parent.isCrispInjected()?window.$crisp.get("session:identifier"):null},t.prototype.onLoaded=function(e){this.parent.createSingletonIfNecessary(),this.offLoaded(),window.$crisp.push(["on","session:loaded",e])},t.prototype.offLoaded=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","session:loaded"])},t.prototype.isValidDataValue=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"},t}(),je=function(){function t(e){this.parent=e}return t.prototype.show=function(){this.parent.autoInjectIfNecessary(),window.$crisp.push(["do","chat:show"])},t.prototype.hide=function(){this.parent.autoInjectIfNecessary(),window.$crisp.push(["do","chat:hide"])},t.prototype.open=function(){this.parent.autoInjectIfNecessary(),window.$crisp.push(["do","chat:open"])},t.prototype.close=function(){this.parent.isCrispInjected()&&window.$crisp.push(["do","chat:close"])},t.prototype.setHelpdeskView=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","helpdesk:search"])},t.prototype.openHelpdeskArticle=function(e,n,i,s){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","helpdesk:article:open",[e,n,i,s]])},t.prototype.queryHelpdesk=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","helpdesk:query",[e]])},t.prototype.unreadCount=function(){return this.parent.isCrispInjected()?window.$crisp.get("chat:unread:count"):0},t.prototype.isChatOpened=function(){return this.parent.isCrispInjected()?window.$crisp.is("chat:opened"):!1},t.prototype.isVisible=function(){return this.parent.isCrispInjected()?window.$crisp.is("chat:visible"):!1},t.prototype.onChatInitiated=function(e){this.parent.createSingletonIfNecessary(),this.offChatInitiated(),window.$crisp.push(["on","chat:initiated",e])},t.prototype.offChatInitiated=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","chat:initiated"])},t.prototype.onChatOpened=function(e){this.parent.createSingletonIfNecessary(),this.offChatOpened(),window.$crisp.push(["on","chat:opened",e])},t.prototype.offChatOpened=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","chat:opened"])},t.prototype.onChatClosed=function(e){this.parent.createSingletonIfNecessary(),this.offChatClosed(),window.$crisp.push(["on","chat:closed",e])},t.prototype.offChatClosed=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","chat:closed"])},t.prototype.onHelpdeskQueried=function(e){this.parent.createSingletonIfNecessary(),this.offHelpdeskQueried(),window.$crisp.push(["on","helpdesk:queried",e])},t.prototype.offHelpdeskQueried=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","helpdesk:queried"])},t}(),E;(function(t){t.Default="default",t.Amber="amber",t.Black="black",t.Blue="blue",t.BlueGrey="blue_grey",t.LightBlue="light_blue",t.Brown="brown",t.Cyan="cyan",t.Green="green",t.LightGreen="light_green",t.Grey="grey",t.Indigo="indigo",t.Orange="orange",t.DeepOrange="deep_orange",t.Pink="pink",t.Purple="purple",t.DeepPurple="deep_purple",t.Red="red",t.Teal="teal"})(E||(E={}));var x;(function(t){t.Left="left",t.Right="right"})(x||(x={}));var Re=function(){function t(){this.clientUrl="https://client.crisp.chat/l.js",this.websiteId="",this.autoload=!0,this.injected=!1,this.chat=new je(this),this.session=new Ae(this),this.user=new Pe(this),this.message=new Ue(this),this.trigger=new De(this)}return t.prototype.configure=function(e,n){n===void 0&&(n={}),this.websiteId=e,this.tokenId=n.tokenId,this.locale=n.locale,this.sessionMerge=n.sessionMerge,this.cookieDomain=n.cookieDomain,this.cookieExpire=n.cookieExpire,this.lockFullview=n.lockFullview,this.lockMaximized=n.lockMaximized,this.safeMode=n.safeMode,n.clientUrl!==void 0&&(this.clientUrl=n.clientUrl),n.autoload!==void 0&&(this.autoload=n.autoload),this.autoload&&this.load()},t.prototype.load=function(){var e=document.getElementsByTagName("head");if(this.createSingletonIfNecessary(),this.isCrispInjected()!==!0){if(!this.websiteId)throw new Error("websiteId must be set before loading Crisp");if(window.CRISP_WEBSITE_ID=this.websiteId,window.CRISP_RUNTIME_CONFIG={},this.tokenId&&(window.CRISP_TOKEN_ID=this.tokenId),this.sessionMerge&&(window.CRISP_RUNTIME_CONFIG.session_merge=!0),this.locale&&(window.CRISP_RUNTIME_CONFIG.locale=this.locale),this.lockFullview&&(window.CRISP_RUNTIME_CONFIG.lock_full_view=!0),this.lockMaximized&&(window.CRISP_RUNTIME_CONFIG.lock_maximized=!0),this.cookieDomain&&(window.CRISP_COOKIE_DOMAIN=this.cookieDomain),this.cookieExpire&&(window.CRISP_COOKIE_EXPIRE=this.cookieExpire),!e||!e[0])return this.deferredLoading();this.safeMode===!0&&this.setSafeMode(!0);var n=document.createElement("script");n.src=this.clientUrl,n.async=!0,e[0].appendChild(n),this.injected=!0}},t.prototype.setTokenId=function(e){this.tokenId=e,this.isCrispInjected()===!0&&(e?window.CRISP_TOKEN_ID=e:delete window.CRISP_TOKEN_ID)},t.prototype.setZIndex=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","container:index",[e]])},t.prototype.setColorTheme=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","color:theme",[e]])},t.prototype.setHideOnAway=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","hide:on:away",[e]])},t.prototype.setHideOnMobile=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","hide:on:mobile",[e]])},t.prototype.setPosition=function(e){this.createSingletonIfNecessary(),$crisp.push(["config","position:reverse",[e===x.Left]])},t.prototype.setAvailabilityTooltip=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","availability:tooltip",[e]])},t.prototype.setVacationMode=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","hide:vacation",[e]])},t.prototype.setSafeMode=function(e){e===void 0&&(e=!0),this.createSingletonIfNecessary(),window.$crisp.push(["safe",e])},t.prototype.muteSound=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","sound:mute",[e]])},t.prototype.toggleOperatorCount=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","show:operator:count",[e]])},t.prototype.onWebsiteAvailabilityChanged=function(e){this.createSingletonIfNecessary(),this.offWebsiteAvailabilityChanged(),window.$crisp.push(["on","website:availability:changed",e])},t.prototype.offWebsiteAvailabilityChanged=function(){this.createSingletonIfNecessary(),window.$crisp.push(["off","website:availability:changed"])},t.prototype.createSingletonIfNecessary=function(){window.$crisp===void 0&&(window.$crisp=[])},t.prototype.autoInjectIfNecessary=function(){this.isCrispInjected()||this.load()},t.prototype.isCrispInjected=function(){return!!(this.injected===!0||window.$crisp&&window.$crisp.is)},t.prototype.deferredLoading=function(){var e=this;document.addEventListener("DOMContentLoaded",function(){e.load()})},t}(),A=new Re;function Oe(){A.configure("4eed08c4-730f-4676-9f60-89f098f236b2",{autoload:!1}),A.setHideOnAway(!0),A.load()}const xe=T({name:"LoginExpiredModal",__name:"login-expired-modal",props:fe({avatar:{default:""},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(t){const e=he(t,"open"),[n,i]=N();return j(()=>e.value,s=>{i.setState({isOpen:s})}),(s,d)=>(_(),R("div",null,[f(o(n),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:w(()=>[f(o(_e),{src:s.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),f(o(Y),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":s.$t("authentication.loginAgainSubTitle"),title:s.$t("authentication.loginAgainTitle")},{default:w(()=>[me(s.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3})]))}});function Le(t){return b(this,null,function*(){const n=F().accessUserId;return W.put(`user/user_id/${n}/timezone`,t)})}const Be=T({__name:"domain-select",setup(t){const{isMobile:e}=Z(),n=de(),i=D([]),s=D([]),d=D(),I=K(),g=new Set(["UserClientDistributionWorld","UserClientHistoryOnline","UserClientHistoryRate","UserClientHistoryRebuffer","UserClientLiveDataPerApp"]),u=k(()=>g.has(I.name)),[h,p]=Q({handleSubmit:r=>{S(r.domain)},layout:"vertical",schema:[{component:"Select",componentProps:{placeholder:"Domain",class:"w-full",onChange:S},fieldName:"domain",label:"Domain",rules:"required"}],showDefaultActions:!1}),[C,l]=N({footer:!1,onConfirm:()=>{p.submitForm(),l.close()}});function S(r){var a;const c=n.domains.find(q=>`${q.id}`===r);c&&(n.setCurrentDomain(c),(a=l==null?void 0:l.close)==null||a.call(l))}function v(){ge(()=>{p.updateSchema([{fieldName:"domain",componentProps:{options:i.value}}])})}H(()=>b(this,null,function*(){const r=yield n.fetchAllDomainAndAppLogic();s.value=r,i.value=r.map(a=>({label:a.domain,value:`${a.id}`}));const c=n.currentDomain;if(c)d.value=`${c==null?void 0:c.id}`,p.setValues({domain:`${c==null?void 0:c.id}`});else{const a=r[0];if(!a)return;d.value=`${a==null?void 0:a.id}`,p.setValues({domain:`${a==null?void 0:a.id}`}),n.setCurrentDomain(a)}v()})),j(()=>n.domains,()=>{const r=n.domains;s.value=r,i.value=r.map(c=>({label:c.domain,value:`${c.id}`})),v()}),j(()=>n.currentDomain,()=>{var r,c;d.value=`${(r=n.currentDomain)==null?void 0:r.id}`,p.setValues({domain:`${(c=n.currentDomain)==null?void 0:c.id}`})});function m(){var c;const r=X();if(r)d.value=`${r==null?void 0:r.id}`,p.setValues({domain:`${r==null?void 0:r.id}`});else{const a=(c=s.value)==null?void 0:c[0];if(!a)return;d.value=`${a==null?void 0:a.id}`,p.setValues({domain:`${a==null?void 0:a.id}`}),n.setCurrentDomain(a)}}function $(){l.open(),m()}return(r,c)=>(_(),R(we,null,[u.value&&!o(e)?(_(),U(o(J),{key:0,value:d.value,"onUpdate:value":c[0]||(c[0]=a=>d.value=a),options:i.value,class:"md:w-[200px]",placeholder:"Domain",onChange:S},null,8,["value","options"])):B("",!0),u.value&&o(e)?(_(),R("div",{key:1,class:"flex items-center",onClick:$},[f(o(C),{title:"Domain"},{default:w(()=>[f(o(h))]),_:1}),c[1]||(c[1]=M("span",{class:"icon-[tabler--list-search] anticon text-foreground/70 mr-1.5 size-3",style:{width:"24px",height:"24px"}},null,-1))])):B("",!0)],64))}}),Ee=["innerHTML"],Fe=T({__name:"recharge-modal",setup(t){const{locale:e}=ee(),n=k(()=>e.value==="en-US"?"USD":"CNY"),i=te(),[s,d]=z({layout:"vertical",handleSubmit:u,commonConfig:{componentProps:{class:"w-full"}},schema:[{component:"InputNumber",fieldName:"price",label:"Price",rules:ne().min(n.value==="CNY"?100:10,{message:e.value==="en-US"?"The minimum recharge amount is 10":"最低充值金额为100"}).refine(h=>{const l=(n.value==="CNY"?/^(10\d|[1-9]\d\d|[1-9]\d\d\d|[1-9]\d\d\d\d)$/:/^[1-9]\d*0$/).test(`${h}`);return!l&&Number(h)>(n.value==="CNY"?100:10)&&(L.destroy("recharge"),L.warning({key:"recharge",content:ye("div",{innerHTML:`<div>${y("page.myInfo.rechargeTip")}</div>`})})),l})}],showDefaultActions:!1}),[I,g]=N({onConfirm:()=>b(this,null,function*(){yield d.submitForm()})});function u(h){return b(this,null,function*(){if(!(yield d.validate()).valid)return;g.setState({loading:!0});const C=n.value==="CNY",l=C?"充值人民幣":"Recharge USD",S=Number(h.price),v={price:S,currency:n.value,goods:[{subject:l,amount:1,price:S}],goods_type:C?"recharge_cny":"recharge_usd"};be(v).then(m=>{i.push({name:"OrderDetail",query:{currency:n.value,orderID:m.order_id,totalPrice:S,buyData:JSON.stringify(v.goods)}}).then(()=>{g.close()})}).catch(m=>{console.error(m)}).finally(()=>{g.setState({loading:!1})})})}return(h,p)=>(_(),U(o(I),{title:o(y)("page.myInfo.recharge")},{description:w(()=>[M("div",{innerHTML:o(y)("page.myInfo.rechargeTip")},null,8,Ee)]),default:w(()=>[f(o(s),{class:"mx-4"})]),_:1},8,["title"]))}}),Ve=T({__name:"time-zone-modal",emits:["success"],setup(t,{emit:e}){const n=e,i=[{value:12,label:"UTC±12"},{value:11,label:"UTC+11"},{value:10,label:"UTC+10"},{value:9,label:"UTC+9"},{value:8,label:"UTC+8"},{value:7,label:"UTC+7"},{value:6,label:"UTC+6"},{value:5,label:"UTC+5"},{value:4,label:"UTC+4"},{value:3,label:"UTC+3"},{value:2,label:"UTC+2"},{value:1,label:"UTC+1"},{value:0,label:"UTC+0"},{value:-1,label:"UTC-1"},{value:-2,label:"UTC-2"},{value:-3,label:"UTC-3"},{value:-4,label:"UTC-4"},{value:-5,label:"UTC-5"},{value:-6,label:"UTC-6"},{value:-7,label:"UTC-7"},{value:-8,label:"UTC-8"},{value:-9,label:"UTC-9"},{value:-10,label:"UTC-10"},{value:-11,label:"UTC-11"}],s=V(),[d,I]=z({layout:"vertical",handleSubmit:h,commonConfig:{componentProps:{class:"w-full"}},schema:[{component:"Select",fieldName:"zone",label:"Time Zone",componentProps:{options:i},rules:"required"}],showDefaultActions:!1}),[g,u]=N({onConfirm:()=>b(this,null,function*(){yield I.submitForm()})});function h(p){return b(this,null,function*(){if(!(yield I.validate()).valid)return;u.setState({loading:!0});const[l]=yield Ie(Le({utc:p.zone}));u.setState({loading:!1}),!l&&(u.close(),ie.success({message:y("common.success"),description:y("page.app.updateItemSuccess")}),n("success"))})}return H(()=>{var p;I.setValues({zone:(p=s.userInfo)==null?void 0:p.utc})}),(p,C)=>(_(),U(o(g),{description:o(y)("page.dashboard.changeUTCDesc"),title:o(y)("page.dashboard.changeUTC")},{default:w(()=>[f(o(d),{class:"mx-4"})]),_:1},8,["description","title"]))}}),He={class:"text-foreground/60 border-border flex items-center justify-between rounded-md border px-2 py-1.5 text-xs"},ze=["innerHTML"],at=T({__name:"basic",setup(t){const{zoneOptions:e}=oe(),n=V(),i=se(),s=F(),[d,I]=N({connectedComponent:Ve}),[g,u]=N({connectedComponent:Fe}),h=k(()=>[{handler:()=>{Se(le,{target:"_blank"})},icon:Me,text:y("common.docUrl")},{handler:()=>{pe.push("/user/edit")},icon:P,text:y("page.navbar.myInfo")},{handler:()=>{S()},icon:P,text:y("page.myInfo.recharge")},{handler:()=>{I.open()},icon:P,text:y("page.dashboard.changeUTC")}]),p=k(()=>{var v,m;return(m=(v=n.userInfo)==null?void 0:v.avatar)!=null?m:$e.app.defaultAvatar}),C=k(()=>{var m;const v=ue();return(m=e.value.find($=>$.value===v))==null?void 0:m.label});function l(){return b(this,null,function*(){yield i.logout(!0)})}function S(){u.open()}return Oe(),(v,m)=>(_(),U(o(Te),{onClearPreferencesAndLogout:l},{"header-left-1":w(()=>[M("div",He,[ve(Ce(C.value)+" ",1),f(o(ae),{placement:"topLeft"},{title:w(()=>[M("span",{innerHTML:o(y)("common.zoneTip")},null,8,ze)]),default:w(()=>[f(o(re),{class:"ml-2 size-3.5"})]),_:1})])]),"user-dropdown":w(()=>{var $,r;return[f(o(Ne),{description:($=o(n).userInfo)==null?void 0:$.email,menus:h.value,text:(r=o(n).userInfo)==null?void 0:r.name,onLogout:l},null,8,["description","menus","text"])]}),extra:w(()=>[f(o(d)),f(o(g)),f(o(xe),{open:o(s).loginExpired,"onUpdate:open":m[0]||(m[0]=$=>o(s).loginExpired=$),avatar:p.value},{default:w(()=>[f(ce)]),_:1},8,["open","avatar"])]),"lock-screen":w(()=>[f(o(ke),{avatar:p.value,onToLogin:l},null,8,["avatar"])]),"header-right-1":w(()=>[f(Be)]),_:1}))}});export{at as default};
