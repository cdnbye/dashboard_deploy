var _=(D,y,m)=>new Promise((u,n)=>{var v=s=>{try{p(m.next(s))}catch(l){n(l)}},c=s=>{try{p(m.throw(s))}catch(l){n(l)}},p=s=>s.done?u(s.value):Promise.resolve(s.value).then(v,c);p((m=m.apply(D,y)).next())});import{v as k,$ as a,R as x,w as N}from"./bootstrap-SKctUie3.js";import{c as C}from"./domain-Cy3FhfO2.js";import{T as h,a as f}from"./index-DddsfUBR.js";import{a5 as F,R,Y as S,bw as A,ag as g,ah as V,ai as o,ar as r,n as t,ab as e,aq as i,ap as d,al as b,bD as B}from"../jse/index-index-0SEuuMhD.js";import{u as E}from"./use-modal-CeNy_I9O.js";import{A as H}from"./index-BQGcMYzE.js";const M={class:"pb-3"},O={class:"px-5"},$={class:"flex items-center py-3 pb-5"},j={class:"mr-5"},Y=F({__name:"viladate-modal",emits:["success"],setup(D,{emit:y}){const m=y,u=R("dns"),n=S({id:"",domain:"",text:""}),[v,c]=E({onConfirm:()=>_(this,null,function*(){p()}),onOpened(){const l=c.getData();Object.assign(n,l)}});function p(){return _(this,null,function*(){c.setState({loading:!0});const[l]=yield A(C(n.id));c.setState({loading:!1}),l||(k.success({message:a("common.success"),description:a("page.domain.verifySuccess")}),c.close(),m("success"))})}function s(){B({source:n.text,fileName:"auth.txt"})}return(l,w)=>(g(),V(e(v),{"cancel-text":e(a)("page.domain.verifyLater"),"confirm-text":e(a)("page.domain.verifyNow"),title:e(a)("page.domain.verifyDomain"),class:"w-1/2"},{default:o(()=>[r("div",M,[t(e(H),{closable:!1,description:e(a)("page.domain.certificationTip"),title:"",type:"warning"},null,8,["description"])]),r("div",O,[r("div",$,[r("div",j,i(e(a)("page.domain.userVerifyDomain.verifyWay")),1),t(e(N),{value:u.value,"onUpdate:value":w[0]||(w[0]=T=>u.value=T),name:"way"},{default:o(()=>[t(e(x),{value:"dns"},{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.DNSVerify")),1)]),_:1}),t(e(x),{value:"file"},{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.fileVerify")),1)]),_:1})]),_:1},8,["value"])]),u.value==="dns"?(g(),V(e(h),{key:0},{default:o(()=>[t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.verifyTipHead"))+" "+i(n.domain)+" "+i(e(a)("page.domain.userVerifyDomain.verifyTipEnd"))+" ",1),r("div",null,i(n.text),1)]),_:1}),t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.doneTip")),1)]),_:1})]),_:1})):b("",!0),u.value==="file"?(g(),V(e(h),{key:1},{default:o(()=>[t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.downloadFileHead"))+" ",1),r("a",{class:"vben-link",onClick:s},i(e(a)("page.domain.userVerifyDomain.downloadFileEnd")),1)]),_:1}),t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.uploadFile"))+"http://"+i(n.domain)+"/ or https://"+i(n.domain)+" ",1),r("div",null,i(e(a)("page.domain.userVerifyDomain.fileName")),1)]),_:1}),t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.navVisitHead"))+"http(s)://"+i(n.domain)+"/auth.txt "+i(e(a)("page.domain.userVerifyDomain.navVisitEnd")),1)]),_:1}),t(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.doneTip")),1)]),_:1})]),_:1})):b("",!0)])]),_:1},8,["cancel-text","confirm-text","title"]))}});export{Y as _};
