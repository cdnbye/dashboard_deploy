var p=Object.defineProperty;var x=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var D=(a,t,e)=>t in a?p(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,b=(a,t)=>{for(var e in t||(t={}))w.call(t,e)&&D(a,e,t[e]);if(x)for(var e of x(t))g.call(t,e)&&D(a,e,t[e]);return a};import{u as k,_ as P}from"./use-echarts-CRrpZ6nM.js";import{a5 as E,R as S,X as A,a6 as O,af as R,ak as T,ab as $}from"../jse/index-index-BG6jV3fR.js";const j=E({__name:"line-chart",props:{data:{default:()=>({})},optionData:{default:()=>({})},secondData:{default:()=>({})},showP2p:{type:Boolean,default:!1}},setup(a){const t=S(),{renderEcharts:e}=k(t);A([()=>a.data,()=>a.optionData,()=>a.secondData],()=>{c()},{immediate:!0,deep:!0}),O(()=>{setTimeout(()=>{c()},30)});function c(){var r,l,m,u,d,h,f;const i=[],o=["#5ab1ef","#019680"];Object.keys(a.data).forEach((n,y)=>{i.push({name:n,markPoint:{label:{show:!0},data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:o[y],lineStyle:{color:o[y],width:2}},smooth:!0,type:"line",data:a.data[n],animationDuration:2800,animationEasing:"cubicInOut"})});const s=[b({name:(r=a.optionData)!=null&&r.unit?`${(l=a.optionData)==null?void 0:l.yName}(${(m=a.optionData)==null?void 0:m.unit})`:`${(u=a.optionData)==null?void 0:u.yName}`,axisTick:{show:!1}},(d=a.optionData)==null?void 0:d.yAxis)];a.showP2p&&s.push({name:"P2P Ratio",max:100,min:0,axisTick:{show:!1},position:"right",axisLabel:{formatter:"{value} %"}}),Object.keys(a.secondData).forEach(n=>{i.push({name:n,markPoint:{label:{show:!0},data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},yAxisIndex:s.length-1,smooth:!0,type:"bar",data:a.secondData[n],animationDuration:2800,animationEasing:"cubicInOut"})}),e({grid:{left:30,right:30,bottom:20,top:30,containLabel:!0},series:i,tooltip:{padding:[5,10],textStyle:{align:"left"},axisPointer:{type:"cross",lineStyle:{color:"#019680",width:1}},trigger:"axis"},xAxis:{splitLine:{lineStyle:{type:"solid",width:1},show:!0},data:(f=(h=a.optionData)==null?void 0:h.xData)!=null?f:[],boundaryGap:!1,axisTick:{show:!0}},yAxis:s})}return(i,o)=>(R(),T($(P),{ref_key:"chartRef",ref:t,height:"400px"},null,512))}});export{j as _};
