import{a as _,bn as v,$ as e,x as l,bo as o,bp as C}from"./bootstrap-DeA6qr60.js";import{a as b}from"./app-Cb8ElKsu.js";import{u as g}from"./app-VxdAdBdL.js";import"./index-Bc2jJlDb.js";import{a5 as x,R as u,a6 as y,af as m,ag as T,ak as w,ah as p,au as d,av as h,ab as t,aj as B,w as I}from"../jse/index-index-CzcqLmIz.js";const S={class:"mt-2 flex flex-wrap gap-2"},$=x({__name:"checkin-button",setup(D){const s=u(!0),n=u(!1),c=_(),i=g();function k(){c.push("/user/commission")}function f(){var r;((r=i.currentDomain)==null?void 0:r.id)===void 0?o.info({title:e("page.dashboard.tip"),okText:e("common.ok"),onOk(){c.push("/user/domain")}}):(n.value=!0,b({user_id:i.currentDomain.uid}).then(a=>{a.repeat?o.info({title:e("page.dashboard.haveChecked"),okText:e("common.ok")}):o.success({title:e("page.dashboard.checkinSuccess"),okText:e("common.ok")}),n.value=!1,C(1,3600*12*1e3),s.value=!1}).catch(a=>{o.error({title:e("page.dashboard.checkinFail"),okText:e("common.ok")}),n.value=!1,console.error(a)}))}return y(()=>{v()&&(s.value=!1)}),(r,a)=>(m(),T("div",S,[s.value?(m(),w(t(l),{key:0,class:"mr-2",type:"primary",onClick:f},{default:p(()=>[d(h(t(e)("page.dashboard.checkin")),1)]),_:1})):B("",!0),I(t(l),{class:"md:ml-2",type:"primary",onClick:k},{default:p(()=>[d(h(t(e)("page.dashboard.invite")),1)]),_:1})]))}});export{$ as _};
