var m=(h,I,p)=>new Promise((r,A)=>{var R=c=>{try{d(p.next(c))}catch(u){A(u)}},U=c=>{try{d(p.throw(c))}catch(u){A(u)}},d=c=>c.done?r(c.value):Promise.resolve(c.value).then(R,U);d((p=p.apply(h,I)).next())});import{a as Q,q as Z,$ as e,B as C,t as y,I as D,v as Y}from"./bootstrap-SKctUie3.js";import{u as K}from"./vxe-table-CfGRJCLB.js";import{f as O,d as G,u as J}from"./app-CCjOiP5P.js";import{u as H}from"./app-Bz8GH1Kr.js";import{_ as N}from"./create-drawer.vue_vue_type_script_setup_true_lang-DXlwLAT2.js";import{_ as T}from"./viladate-modal.vue_vue_type_script_setup_true_lang-DT678nDd.js";import{_ as z}from"./copy-token.vue_vue_type_script_setup_true_lang-zVrDrnU6.js";import{P as x}from"./index-2WM4XbSS.js";import{_ as P}from"./page.vue_vue_type_script_setup_true_lang-Dgq6zLp-.js";import{a5 as j,Y as B,ah as v,ai as i,ab as t,ag as W,n as s,ar as L,ap as f,aq as g,al as V,bw as E}from"../jse/index-index-0SEuuMhD.js";import{u as _}from"./use-drawer-WeeVlx5E.js";import{u as $}from"./use-modal-CeNy_I9O.js";import"./loading-BVj1NiH4.js";import"./form-ufAcWega.js";import"./RightOutlined-BmsLIaO2.js";import"./domain-Cy3FhfO2.js";import"./index-BQGcMYzE.js";import"./index-DddsfUBR.js";import"./CopyOutlined-CUICu9G8.js";import"./copy-ByS1NwOS.js";import"./x-Cpey3BCi.js";const ee="/png/android-C3U7os7R.png",te="data:image/png;base64,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",ae="/png/ios-EJsPQtx5.png",oe={class:"flex w-full flex-col md:flex-row"},Me=j({__name:"index",setup(h){const I=Q(),p=Z(),r=H(),[A,R]=_({connectedComponent:N}),[U]=$({connectedComponent:T}),d=B({checkboxConfig:{highlight:!0,labelField:"name"},columns:[{field:"img",title:e("page.app.platform"),width:100,cellRender:{name:"CellImage"}},{field:"app_name",title:e("page.app.name"),width:200},{field:"app_id",title:"AppId",minWidth:200},{field:"signature",width:200,title:e("page.app.signature"),slots:{default:"signature"}},{field:"created_at",width:200,title:e("page.app.createTime"),formatter:"formatDateTime"},{field:"status",width:100,title:e("common.status"),slots:{default:"status"}},{field:"operation",title:e("common.operation"),slots:{default:"operation"},width:300}],height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:n=>m(this,[n],function*({page:o}){var M;const a=yield O({page:o.currentPage,page_size:o.pageSize}),l=(M=a==null?void 0:a.app_list)!=null?M:[];return l.forEach(w=>{switch(w.platform){case"android":{w.img=ee;break}case"ios":{w.img=ae;break}case"pc":{w.img=te;break}}}),{items:l,total:1e3}})}}}),[c,u]=K({gridOptions:d});function S(){R.open()}function k(){return m(this,null,function*(){yield u.reload()})}function F(o){return m(this,null,function*(){const n=p.accessUserId,[a]=yield E(G({id:o.id,user_id:n,domain_id:o.domain_id}));a||(Y.success({description:e("common.deleteSuccess"),message:e("common.success")}),yield k(),r.fetchAllDomainAndAppLogic())})}function X(o){return o.blocked?e("common.illegal"):o.reviewing?e("common.reviewing"):o.disable_p2p?e("common.userClosed"):e("common.available")}function b(o){return m(this,null,function*(){let n=o.signature;n=n.replaceAll(/ +/g,"").replaceAll(/[\r\n]/g,"");const a={id:o.id,signature:n},[l]=yield E(J(a));l||(Y.success({description:e("page.app.updateItemSuccess"),message:e("common.success")}),yield k())})}function q(o){return m(this,null,function*(){const n=p.accessUserId;I.push({name:"UserClientLiveDataPerApp"}).then(()=>{r.setCurrentDomain({uid:`${n}`,id:o.domain_id,domain:o.app_id,isValid:1,native:!0})})})}return(o,n)=>(W(),v(t(P),{description:t(e)("page.app.desc"),"auto-content-height":""},{default:i(()=>[s(t(U)),s(t(A),{onSuccess:n[0]||(n[0]=()=>{k(),t(r).fetchAllDomainAndAppLogic()})}),s(t(c),null,{"toolbar-actions":i(()=>[L("div",oe,[s(t(C),{class:"mr-2",type:"primary",onClick:S},{default:i(()=>[f(g(t(e)("page.app.createFormItem")),1)]),_:1}),s(t(z),{class:"mt-3 w-full md:mt-0 md:w-1/3"})])]),status:i(({row:a})=>[s(t(y),{color:a.blocked||a.disable_p2p?"red":"success"},{default:i(()=>[f(g(X(a)),1)]),_:2},1032,["color"])]),signature:i(({row:a})=>[a.platform==="android"?(W(),v(t(D).TextArea,{key:0,value:a.signature,"onUpdate:value":l=>a.signature=l,"auto-size":{minRows:3,maxRows:10},"allow-clear":""},null,8,["value","onUpdate:value"])):V("",!0)]),operation:i(({row:a})=>[s(t(C),{size:"small",type:"link",onClick:l=>q(a)},{default:i(()=>[f(g(t(e)("page.app.watch")),1)]),_:2},1032,["onClick"]),a.platform==="android"?(W(),v(t(x),{key:0,"cancel-text":t(e)("common.cancel"),"ok-text":t(e)("common.ok"),title:t(e)("common.sureUpdate"),onConfirm:l=>b(a)},{default:i(()=>[s(t(C),{size:"small",type:"link"},{default:i(()=>[f(g(t(e)("page.app.updateSign")),1)]),_:1})]),_:2},1032,["cancel-text","ok-text","title","onConfirm"])):V("",!0),s(t(x),{"cancel-text":t(e)("common.cancel"),"ok-text":t(e)("common.ok"),title:t(e)("common.sureDelete"),onConfirm:l=>F(a)},{default:i(()=>[s(t(C),{danger:"",size:"small",type:"link"},{default:i(()=>[f(g(t(e)("common.delete")),1)]),_:1})]),_:2},1032,["cancel-text","ok-text","title","onConfirm"])]),_:1})]),_:1},8,["description"]))}});export{Me as default};
