import{a as _,bm as v,$ as e,B as l,bn as o,bo as C}from"./bootstrap-Dm2SQx9s.js";import{a as b}from"./app-DHYCGXgO.js";import{u as g}from"./app-Cv7HbDHs.js";import"./index-9GDhh7tB.js";import{a5 as x,R as u,a6 as y,af as m,ag as B,ak as T,ah as p,au as d,av as h,ab as t,aj as w,w as I}from"../jse/index-index-CnArI7MG.js";const S={class:"mt-2 flex flex-wrap gap-2"},$=x({__name:"checkin-button",setup(D){const s=u(!0),n=u(!1),c=_(),i=g();function k(){c.push("/user/commission")}function f(){var r;((r=i.currentDomain)==null?void 0:r.id)===void 0?o.info({title:e("page.dashboard.tip"),okText:e("common.ok"),onOk(){c.push("/user/domain")}}):(n.value=!0,b({user_id:i.currentDomain.uid}).then(a=>{a.repeat?o.info({title:e("page.dashboard.haveChecked"),okText:e("common.ok")}):o.success({title:e("page.dashboard.checkinSuccess"),okText:e("common.ok")}),n.value=!1,C(1,3600*12*1e3),s.value=!1}).catch(a=>{o.error({title:e("page.dashboard.checkinFail"),okText:e("common.ok")}),n.value=!1,console.error(a)}))}return y(()=>{v()&&(s.value=!1)}),(r,a)=>(m(),B("div",S,[s.value?(m(),T(t(l),{key:0,class:"mr-2",type:"primary",onClick:f},{default:p(()=>[d(h(t(e)("page.dashboard.checkin")),1)]),_:1})):w("",!0),I(t(l),{class:"md:ml-2",type:"primary",onClick:k},{default:p(()=>[d(h(t(e)("page.dashboard.invite")),1)]),_:1})]))}});export{$ as _};
