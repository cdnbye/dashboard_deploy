var m=(W,w,p)=>new Promise((u,C)=>{var k=l=>{try{f(p.next(l))}catch(g){C(g)}},R=l=>{try{f(p.throw(l))}catch(g){C(g)}},f=l=>l.done?u(l.value):Promise.resolve(l.value).then(k,R);f((p=p.apply(W,w)).next())});import{w as Z,$ as t,a as q,B as A,x as D,I as K,y as x}from"./bootstrap-CL17rep8.js";import{u as G}from"./vxe-table-7XJ7DyGq.js";import{f as O,d as J,u as H}from"./app-Cg8zyd4h.js";import{u as N}from"./app-CMJ7M8kh.js";import{_ as T}from"./create-drawer.vue_vue_type_script_setup_true_lang-iO27WP2b.js";import{_ as z}from"./viladate-modal.vue_vue_type_script_setup_true_lang-Wsg-L-XD.js";import{_ as P}from"./page.vue_vue_type_script_setup_true_lang-Bmglc92S.js";import{_ as j}from"./copy-token.vue_vue_type_script_setup_true_lang-DgNJZyef.js";import{P as V}from"./index-DgRpGtnM.js";import{a5 as B,Y as L,af as v,ak as h,ah as o,ab as e,w as s,al as _,au as r,av as d,aj as E,bw as S}from"../jse/index-index-BG6jV3fR.js";import{u as $}from"./use-drawer-DF_8697M.js";import{u as ee}from"./use-modal-7p7rnGpN.js";import"./loading-DyJFSIH5.js";import"./form-DVKcOcK9.js";import"./RightOutlined-C1bagf8s.js";import"./domain-DVItbrBE.js";import"./index-erEElEK9.js";import"./index-CRJJ7oqf.js";import"./x-BMVsyMFc.js";import"./CopyOutlined-BD8dk-RX.js";import"./copy-CMv7kATU.js";const te="/png/android-C3U7os7R.png",ae="data:image/png;base64,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",ie="/png/ios-EJsPQtx5.png",oe={class:"flex w-full flex-col md:flex-row"},Ye=B({__name:"index",setup(W){const w=q(),p=Z(),u=N(),[C,k]=$({connectedComponent:T}),[R]=ee({connectedComponent:z}),f=L({checkboxConfig:{highlight:!0,labelField:"name"},rowStyle:{height:"90px"},columns:[{field:"img",title:t("page.app.platform"),width:100,cellRender:{name:"CellImage"}},{field:"app_name",title:t("page.app.name"),width:200},{field:"app_id",title:"AppId",minWidth:200},{field:"signature",width:200,title:t("page.app.signature"),slots:{default:"signature"}},{field:"created_at",width:200,title:t("page.app.createTime"),formatter:"formatDateTime"},{field:"status",width:100,title:t("common.status"),slots:{default:"status"}},{field:"operation",title:t("common.operation"),slots:{default:"operation"},width:300}],height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:c=>m(this,[c],function*({page:i}){var Y;const a=yield O({page:i.currentPage,page_size:i.pageSize}),n=(Y=a==null?void 0:a.app_list)!=null?Y:[];return n.forEach(I=>{switch(I.platform){case"android":{I.img=te;break}case"ios":{I.img=ie;break}case"pc":{I.img=ae;break}}}),{items:n,total:1e3}})}}}),[l,g]=G({gridOptions:f});function F(){k.open()}function U(){return m(this,null,function*(){yield g.reload()})}function M(){w.push("/user/guide/native")}function X(i){return m(this,null,function*(){const c=p.accessUserId,[a]=yield S(J({id:i.id,user_id:c,domain_id:i.domain_id}));a||(x.success({description:t("common.deleteSuccess"),message:t("common.success")}),yield U(),u.fetchAllDomainAndAppLogic())})}function b(i){return i.blocked?t("common.illegal"):i.reviewing?t("common.reviewing"):i.disable_p2p?t("common.userClosed"):t("common.available")}function y(i){return m(this,null,function*(){let c=i.signature;c=c.replaceAll(/ +/g,"").replaceAll(/[\r\n]/g,"");const a={id:i.id,signature:c},[n]=yield S(H(a));n||(x.success({description:t("page.app.updateItemSuccess"),message:t("common.success")}),yield U())})}function Q(i){return m(this,null,function*(){const c=p.accessUserId;w.push({name:"UserClientLiveDataPerApp"}).then(()=>{u.setCurrentDomain({uid:`${c}`,id:i.domain_id,domain:i.app_id,isValid:1,native:!0})})})}return(i,c)=>(v(),h(e(P),{description:e(t)("page.app.desc"),"auto-content-height":""},{default:o(()=>[s(e(R)),s(e(C),{onSuccess:c[0]||(c[0]=()=>m(this,null,function*(){U(),(yield e(u).fetchAllDomainAndAppLogic()).filter(n=>n.native).length<=1&&M()}))}),s(e(l),null,{"toolbar-actions":o(()=>[_("div",oe,[s(e(A),{class:"mr-2",type:"primary",onClick:F},{default:o(()=>[r(d(e(t)("page.app.createFormItem")),1)]),_:1}),s(e(j),{class:"mt-3 w-full md:mt-0 md:w-1/5"}),s(e(A),{class:"mt-2 md:ml-auto md:mt-0",type:"dashed",onClick:M},{default:o(()=>[r(d(e(t)("common.guide")),1)]),_:1})])]),status:o(({row:a})=>[s(e(D),{color:a.blocked||a.disable_p2p?"red":"success"},{default:o(()=>[r(d(b(a)),1)]),_:2},1032,["color"])]),signature:o(({row:a})=>[a.platform==="android"?(v(),h(e(K).TextArea,{key:0,value:a.signature,"onUpdate:value":n=>a.signature=n,"auto-size":{minRows:3,maxRows:10},"allow-clear":""},null,8,["value","onUpdate:value"])):E("",!0)]),operation:o(({row:a})=>[s(e(A),{size:"small",type:"link",onClick:n=>Q(a)},{default:o(()=>[r(d(e(t)("page.app.watch")),1)]),_:2},1032,["onClick"]),a.platform==="android"?(v(),h(e(V),{key:0,"cancel-text":e(t)("common.cancel"),"ok-text":e(t)("common.ok"),title:e(t)("common.sureUpdate"),onConfirm:n=>y(a)},{default:o(()=>[s(e(A),{size:"small",type:"link"},{default:o(()=>[r(d(e(t)("page.app.updateSign")),1)]),_:1})]),_:2},1032,["cancel-text","ok-text","title","onConfirm"])):E("",!0),s(e(V),{"cancel-text":e(t)("common.cancel"),"ok-text":e(t)("common.ok"),title:e(t)("common.sureDelete"),onConfirm:n=>X(a)},{default:o(()=>[s(e(A),{danger:"",size:"small",type:"link"},{default:o(()=>[r(d(e(t)("common.delete")),1)]),_:1})]),_:2},1032,["cancel-text","ok-text","title","onConfirm"])]),_:1})]),_:1},8,["description"]))}});export{Ye as default};
