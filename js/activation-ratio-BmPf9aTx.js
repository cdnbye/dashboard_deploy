var q=(e,o,t)=>new Promise((n,a)=>{var s=l=>{try{i(t.next(l))}catch(u){a(u)}},r=l=>{try{i(t.throw(l))}catch(u){a(u)}},i=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,r);i((t=t.apply(e,o)).next())});import{a3 as f,a9 as _,aU as Pe,a7 as P,cB as pe,ae as g,aa as K,ad as D,cl as ee,aF as me,c$ as He,co as Z,ba as Oe,d2 as ke,aB as Fe,a4 as oe,af as Le,ag as Ne,al as De,aE as Ee,an as Re,d3 as je,bf as R,b3 as E,aO as Ae,aN as _e,bb as I,$ as L,d4 as ze,B as Ie,d5 as We,y as ae}from"./bootstrap-CL17rep8.js";import{u as Ue}from"./vxe-table-7XJ7DyGq.js";import{f as Ge}from"./domain-DVItbrBE.js";import{p as Ke}from"./p2p-BlEEM_Zz.js";import{_ as Xe}from"./page.vue_vue_type_script_setup_true_lang-Bmglc92S.js";import{w as V,a5 as z,a8 as se,a6 as Ye,ax as ge,J as ve,R as Y,X as Je,bE as qe,be as Qe,Y as Ze,af as re,ak as ie,ah as X,ab as j,al as et,au as tt,av as nt,aj as ot,bw as at}from"../jse/index-index-BG6jV3fR.js";import"./loading-DyJFSIH5.js";import"./form-DVKcOcK9.js";import"./RightOutlined-C1bagf8s.js";import"./x-BMVsyMFc.js";const te=(e,o)=>{let{attrs:t}=o;const{included:n,vertical:a,style:s,class:r}=t;let{length:i,offset:l,reverse:u}=t;i<0&&(u=!u,i=Math.abs(i),l=100-l);const c=a?{[u?"top":"bottom"]:`${l}%`,[u?"bottom":"top"]:"auto",height:`${i}%`}:{[u?"right":"left"]:`${l}%`,[u?"left":"right"]:"auto",width:`${i}%`},m=f(f({},s),c);return n?V("div",{class:r,style:m},null):null};te.inheritAttrs=!1;const st=(e,o,t,n,a,s)=>{const r=Object.keys(o).map(parseFloat).sort((i,l)=>i-l);if(t&&n)for(let i=a;i<=s;i+=n)r.indexOf(i)===-1&&r.push(i);return r},be=(e,o)=>{let{attrs:t}=o;const{prefixCls:n,vertical:a,reverse:s,marks:r,dots:i,step:l,included:u,lowerBound:c,upperBound:m,max:b,min:C,dotStyle:y,activeDotStyle:w}=t,h=b-C,x=st(a,r,i,l,C,b).map(d=>{const $=`${Math.abs(d-C)/h*100}%`,B=!u&&d===m||u&&d<=m&&d>=c;let S=a?f(f({},y),{[s?"top":"bottom"]:$}):f(f({},y),{[s?"right":"left"]:$});B&&(S=f(f({},S),w));const v=_({[`${n}-dot`]:!0,[`${n}-dot-active`]:B,[`${n}-dot-reverse`]:s});return V("span",{class:v,style:S,key:d},null)});return V("div",{class:`${n}-step`},[x])};be.inheritAttrs=!1;const ye=(e,o)=>{let{attrs:t,slots:n}=o;const{class:a,vertical:s,reverse:r,marks:i,included:l,upperBound:u,lowerBound:c,max:m,min:b,onClickLabel:C}=t,y=Object.keys(i),w=n.mark,h=m-b,x=y.map(parseFloat).sort((d,$)=>d-$).map(d=>{const $=typeof i[d]=="function"?i[d]():i[d],B=typeof $=="object"&&!Pe($);let S=B?$.label:$;if(!S&&S!==0)return null;w&&(S=w({point:d,label:S}));const v=!l&&d===u||l&&d<=u&&d>=c,p=_({[`${a}-text`]:!0,[`${a}-text-active`]:v}),M={marginBottom:"-50%",[r?"top":"bottom"]:`${(d-b)/h*100}%`},O={transform:`translateX(${r?"50%":"-50%"})`,msTransform:`translateX(${r?"50%":"-50%"})`,[r?"right":"left"]:`${(d-b)/h*100}%`},T=s?M:O,N=B?f(f({},T),$.style):T,H={[pe?"onTouchstartPassive":"onTouchstart"]:k=>C(k,d)};return V("span",P({class:p,style:N,key:d,onMousedown:k=>C(k,d)},H),[S])});return V("div",{class:a},[x])};ye.inheritAttrs=!1;const xe=z({compatConfig:{MODE:3},name:"Handle",inheritAttrs:!1,props:{prefixCls:String,vertical:{type:Boolean,default:void 0},offset:Number,disabled:{type:Boolean,default:void 0},min:Number,max:Number,value:Number,tabindex:g.oneOfType([g.number,g.string]),reverse:{type:Boolean,default:void 0},ariaLabel:String,ariaLabelledBy:String,ariaValueTextFormatter:Function,onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function}},setup(e,o){let{attrs:t,emit:n,expose:a}=o;const s=se(!1),r=se(),i=()=>{document.activeElement===r.value&&(s.value=!0)},l=h=>{s.value=!1,n("blur",h)},u=()=>{s.value=!1},c=()=>{var h;(h=r.value)===null||h===void 0||h.focus()},m=()=>{var h;(h=r.value)===null||h===void 0||h.blur()},b=()=>{s.value=!0,c()},C=h=>{h.preventDefault(),c(),n("mousedown",h)};a({focus:c,blur:m,clickFocus:b,ref:r});let y=null;Ye(()=>{y=K(document,"mouseup",i)}),ge(()=>{y==null||y.remove()});const w=ve(()=>{const{vertical:h,offset:x,reverse:d}=e;return h?{[d?"top":"bottom"]:`${x}%`,[d?"bottom":"top"]:"auto",transform:d?null:"translateY(+50%)"}:{[d?"right":"left"]:`${x}%`,[d?"left":"right"]:"auto",transform:`translateX(${d?"+":"-"}50%)`}});return()=>{const{prefixCls:h,disabled:x,min:d,max:$,value:B,tabindex:S,ariaLabel:v,ariaLabelledBy:p,ariaValueTextFormatter:M,onMouseenter:O,onMouseleave:T}=e,N=_(t.class,{[`${h}-handle-click-focused`]:s.value}),H={"aria-valuemin":d,"aria-valuemax":$,"aria-valuenow":B,"aria-disabled":!!x},k=[t.style,w.value];let F=S||0;(x||S===null)&&(F=null);let U;M&&(U=M(B));const J=f(f(f(f({},t),{role:"slider",tabindex:F}),H),{class:N,onBlur:l,onKeydown:u,onMousedown:C,onMouseenter:O,onMouseleave:T,ref:r,style:k});return V("div",P(P({},J),{},{"aria-label":v,"aria-labelledby":p,"aria-valuetext":U}),null)}}});function Q(e,o){try{return Object.keys(o).some(t=>e.target===o[t].ref)}catch(t){return!1}}function Se(e,o){let{min:t,max:n}=o;return e<t||e>n}function le(e){return e.touches.length>1||e.type.toLowerCase()==="touchend"&&e.touches.length>0}function ue(e,o){let{marks:t,step:n,min:a,max:s}=o;const r=Object.keys(t).map(parseFloat);if(n!==null){const l=Math.pow(10,$e(n)),u=Math.floor((s*l-a*l)/(n*l)),c=Math.min((e-a)/n,u),m=Math.round(c)*n+a;r.push(m)}const i=r.map(l=>Math.abs(e-l));return r[i.indexOf(Math.min(...i))]}function $e(e){const o=e.toString();let t=0;return o.indexOf(".")>=0&&(t=o.length-o.indexOf(".")-1),t}function ce(e,o){let t=1;return window.visualViewport&&(t=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(e?o.clientY:o.pageX)/t}function de(e,o){let t=1;return window.visualViewport&&(t=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(e?o.touches[0].clientY:o.touches[0].pageX)/t}function he(e,o){const t=o.getBoundingClientRect();return e?t.top+t.height*.5:window.scrollX+t.left+t.width*.5}function ne(e,o){let{max:t,min:n}=o;return e<=n?n:e>=t?t:e}function Ce(e,o){const{step:t}=o,n=isFinite(ue(e,o))?ue(e,o):0;return t===null?n:parseFloat(n.toFixed($e(t)))}function W(e){e.stopPropagation(),e.preventDefault()}function rt(e,o,t){const n={increase:(r,i)=>r+i,decrease:(r,i)=>r-i},a=n[e](Object.keys(t.marks).indexOf(JSON.stringify(o)),1),s=Object.keys(t.marks)[a];return t.step?n[e](o,t.step):Object.keys(t.marks).length&&t.marks[s]?t.marks[s]:o}function Ve(e,o,t){const n="increase",a="decrease";let s=n;switch(e.keyCode){case D.UP:s=o&&t?a:n;break;case D.RIGHT:s=!o&&t?a:n;break;case D.DOWN:s=o&&t?n:a;break;case D.LEFT:s=!o&&t?n:a;break;case D.END:return(r,i)=>i.max;case D.HOME:return(r,i)=>i.min;case D.PAGE_UP:return(r,i)=>r+i.step*2;case D.PAGE_DOWN:return(r,i)=>r-i.step*2;default:return}return(r,i)=>rt(s,r,i)}var it=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)o.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};function A(){}function Be(e){const o={id:String,min:Number,max:Number,step:Number,marks:g.object,included:{type:Boolean,default:void 0},prefixCls:String,disabled:{type:Boolean,default:void 0},handle:Function,dots:{type:Boolean,default:void 0},vertical:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},minimumTrackStyle:g.object,maximumTrackStyle:g.object,handleStyle:g.oneOfType([g.object,g.arrayOf(g.object)]),trackStyle:g.oneOfType([g.object,g.arrayOf(g.object)]),railStyle:g.object,dotStyle:g.object,activeDotStyle:g.object,autofocus:{type:Boolean,default:void 0},draggableTrack:{type:Boolean,default:void 0}};return z({compatConfig:{MODE:3},name:"CreateSlider",mixins:[ee,e],inheritAttrs:!1,props:me(o,{prefixCls:"rc-slider",min:0,max:100,step:1,marks:{},included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),emits:["change","blur","focus"],data(){return this.handlesRefs={},{}},mounted(){this.$nextTick(()=>{this.document=this.sliderRef&&this.sliderRef.ownerDocument;const{autofocus:t,disabled:n}=this;t&&!n&&this.focus()})},beforeUnmount(){this.$nextTick(()=>{this.removeDocumentEvents()})},methods:{defaultHandle(t){var{index:n,directives:a,className:s,style:r}=t,i=it(t,["index","directives","className","style"]);if(delete i.dragging,i.value===null)return null;const l=f(f({},i),{class:s,style:r,key:n});return V(xe,l,null)},onDown(t,n){let a=n;const{draggableTrack:s,vertical:r}=this.$props,{bounds:i}=this.$data,l=s&&this.positionGetValue?this.positionGetValue(a)||[]:[],u=Q(t,this.handlesRefs);if(this.dragTrack=s&&i.length>=2&&!u&&!l.map((c,m)=>{const b=m?!0:c>=i[m];return m===l.length-1?c<=i[m]:b}).some(c=>!c),this.dragTrack)this.dragOffset=a,this.startBounds=[...i];else{if(!u)this.dragOffset=0;else{const c=he(r,t.target);this.dragOffset=a-c,a=c}this.onStart(a)}},onMouseDown(t){if(t.button!==0)return;this.removeDocumentEvents();const n=this.$props.vertical,a=ce(n,t);this.onDown(t,a),this.addDocumentMouseEvents()},onTouchStart(t){if(le(t))return;const n=this.vertical,a=de(n,t);this.onDown(t,a),this.addDocumentTouchEvents(),W(t)},onFocus(t){const{vertical:n}=this;if(Q(t,this.handlesRefs)&&!this.dragTrack){const a=he(n,t.target);this.dragOffset=0,this.onStart(a),W(t),this.$emit("focus",t)}},onBlur(t){this.dragTrack||this.onEnd(),this.$emit("blur",t)},onMouseUp(){this.handlesRefs[this.prevMovedHandleIndex]&&this.handlesRefs[this.prevMovedHandleIndex].clickFocus()},onMouseMove(t){if(!this.sliderRef){this.onEnd();return}const n=ce(this.vertical,t);this.onMove(t,n-this.dragOffset,this.dragTrack,this.startBounds)},onTouchMove(t){if(le(t)||!this.sliderRef){this.onEnd();return}const n=de(this.vertical,t);this.onMove(t,n-this.dragOffset,this.dragTrack,this.startBounds)},onKeyDown(t){this.sliderRef&&Q(t,this.handlesRefs)&&this.onKeyboard(t)},onClickMarkLabel(t,n){t.stopPropagation(),this.onChange({sValue:n}),this.setState({sValue:n},()=>this.onEnd(!0))},getSliderStart(){const t=this.sliderRef,{vertical:n,reverse:a}=this,s=t.getBoundingClientRect();return n?a?s.bottom:s.top:window.scrollX+(a?s.right:s.left)},getSliderLength(){const t=this.sliderRef;if(!t)return 0;const n=t.getBoundingClientRect();return this.vertical?n.height:n.width},addDocumentTouchEvents(){this.onTouchMoveListener=K(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=K(this.document,"touchend",this.onEnd)},addDocumentMouseEvents(){this.onMouseMoveListener=K(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=K(this.document,"mouseup",this.onEnd)},removeDocumentEvents(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()},focus(){var t;this.$props.disabled||(t=this.handlesRefs[0])===null||t===void 0||t.focus()},blur(){this.$props.disabled||Object.keys(this.handlesRefs).forEach(t=>{var n,a;(a=(n=this.handlesRefs[t])===null||n===void 0?void 0:n.blur)===null||a===void 0||a.call(n)})},calcValue(t){const{vertical:n,min:a,max:s}=this,r=Math.abs(Math.max(t,0)/this.getSliderLength());return n?(1-r)*(s-a)+a:r*(s-a)+a},calcValueByPos(t){const a=(this.reverse?-1:1)*(t-this.getSliderStart());return this.trimAlignValue(this.calcValue(a))},calcOffset(t){const{min:n,max:a}=this,s=(t-n)/(a-n);return Math.max(0,s*100)},saveSlider(t){this.sliderRef=t},saveHandle(t,n){this.handlesRefs[t]=n}},render(){const{prefixCls:t,marks:n,dots:a,step:s,included:r,disabled:i,vertical:l,reverse:u,min:c,max:m,maximumTrackStyle:b,railStyle:C,dotStyle:y,activeDotStyle:w,id:h}=this,{class:x,style:d}=this.$attrs,{tracks:$,handles:B}=this.renderSlider(),S=_(t,x,{[`${t}-with-marks`]:Object.keys(n).length,[`${t}-disabled`]:i,[`${t}-vertical`]:l,[`${t}-horizontal`]:!l}),v={vertical:l,marks:n,included:r,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:m,min:c,reverse:u,class:`${t}-mark`,onClickLabel:i?A:this.onClickMarkLabel},p={[pe?"onTouchstartPassive":"onTouchstart"]:i?A:this.onTouchStart};return V("div",P(P({id:h,ref:this.saveSlider,tabindex:"-1",class:S},p),{},{onMousedown:i?A:this.onMouseDown,onMouseup:i?A:this.onMouseUp,onKeydown:i?A:this.onKeyDown,onFocus:i?A:this.onFocus,onBlur:i?A:this.onBlur,style:d}),[V("div",{class:`${t}-rail`,style:f(f({},b),C)},null),$,V(be,{prefixCls:t,vertical:l,reverse:u,marks:n,dots:a,step:s,included:r,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:m,min:c,dotStyle:y,activeDotStyle:w},null),B,V(ye,v,{mark:this.$slots.mark}),He(this)])}})}const lt=z({compatConfig:{MODE:3},name:"Slider",mixins:[ee],inheritAttrs:!1,props:{defaultValue:Number,value:Number,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},tabindex:g.oneOfType([g.number,g.string]),reverse:{type:Boolean,default:void 0},min:Number,max:Number,ariaLabelForHandle:String,ariaLabelledByForHandle:String,ariaValueTextFormatterForHandle:String,startPoint:Number},emits:["beforeChange","afterChange","change"],data(){const e=this.defaultValue!==void 0?this.defaultValue:this.min,o=this.value!==void 0?this.value:e;return{sValue:this.trimAlignValue(o),dragging:!1}},watch:{value:{handler(e){this.setChangeValue(e)},deep:!0},min(){const{sValue:e}=this;this.setChangeValue(e)},max(){const{sValue:e}=this;this.setChangeValue(e)}},methods:{setChangeValue(e){const o=e!==void 0?e:this.sValue,t=this.trimAlignValue(o,this.$props);t!==this.sValue&&(this.setState({sValue:t}),Se(o,this.$props)&&this.$emit("change",t))},onChange(e){const o=!Z(this,"value"),t=e.sValue>this.max?f(f({},e),{sValue:this.max}):e;o&&this.setState(t);const n=t.sValue;this.$emit("change",n)},onStart(e){this.setState({dragging:!0});const{sValue:o}=this;this.$emit("beforeChange",o);const t=this.calcValueByPos(e);this.startValue=t,this.startPosition=e,t!==o&&(this.prevMovedHandleIndex=0,this.onChange({sValue:t}))},onEnd(e){const{dragging:o}=this;this.removeDocumentEvents(),(o||e)&&this.$emit("afterChange",this.sValue),this.setState({dragging:!1})},onMove(e,o){W(e);const{sValue:t}=this,n=this.calcValueByPos(o);n!==t&&this.onChange({sValue:n})},onKeyboard(e){const{reverse:o,vertical:t}=this.$props,n=Ve(e,t,o);if(n){W(e);const{sValue:a}=this,s=n(a,this.$props),r=this.trimAlignValue(s);if(r===a)return;this.onChange({sValue:r}),this.$emit("afterChange",r),this.onEnd()}},getLowerBound(){const e=this.$props.startPoint||this.$props.min;return this.$data.sValue>e?e:this.$data.sValue},getUpperBound(){return this.$data.sValue<this.$props.startPoint?this.$props.startPoint:this.$data.sValue},trimAlignValue(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e===null)return null;const t=f(f({},this.$props),o),n=ne(e,t);return Ce(n,t)},getTrack(e){let{prefixCls:o,reverse:t,vertical:n,included:a,minimumTrackStyle:s,mergedTrackStyle:r,length:i,offset:l}=e;return V(te,{class:`${o}-track`,vertical:n,included:a,offset:l,reverse:t,length:i,style:f(f({},s),r)},null)},renderSlider(){const{prefixCls:e,vertical:o,included:t,disabled:n,minimumTrackStyle:a,trackStyle:s,handleStyle:r,tabindex:i,ariaLabelForHandle:l,ariaLabelledByForHandle:u,ariaValueTextFormatterForHandle:c,min:m,max:b,startPoint:C,reverse:y,handle:w,defaultHandle:h}=this,x=w||h,{sValue:d,dragging:$}=this,B=this.calcOffset(d),S=x({class:`${e}-handle`,prefixCls:e,vertical:o,offset:B,value:d,dragging:$,disabled:n,min:m,max:b,reverse:y,index:0,tabindex:i,ariaLabel:l,ariaLabelledBy:u,ariaValueTextFormatter:c,style:r[0]||r,ref:M=>this.saveHandle(0,M),onFocus:this.onFocus,onBlur:this.onBlur}),v=C!==void 0?this.calcOffset(C):0,p=s[0]||s;return{tracks:this.getTrack({prefixCls:e,reverse:y,vertical:o,included:t,offset:v,minimumTrackStyle:a,mergedTrackStyle:p,length:B-v}),handles:S}}}}),ut=Be(lt),G=e=>{let{value:o,handle:t,bounds:n,props:a}=e;const{allowCross:s,pushable:r}=a,i=Number(r),l=ne(o,a);let u=l;return!s&&t!=null&&n!==void 0&&(t>0&&l<=n[t-1]+i&&(u=n[t-1]+i),t<n.length-1&&l>=n[t+1]-i&&(u=n[t+1]-i)),Ce(u,a)},ct={defaultValue:g.arrayOf(g.number),value:g.arrayOf(g.number),count:Number,pushable:Oe(g.oneOfType([g.looseBool,g.number])),allowCross:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},tabindex:g.arrayOf(g.number),prefixCls:String,min:Number,max:Number,autofocus:{type:Boolean,default:void 0},ariaLabelGroupForHandles:Array,ariaLabelledByGroupForHandles:Array,ariaValueTextFormatterGroupForHandles:Array,draggableTrack:{type:Boolean,default:void 0}},dt=z({compatConfig:{MODE:3},name:"Range",mixins:[ee],inheritAttrs:!1,props:me(ct,{count:1,allowCross:!0,pushable:!1,tabindex:[],draggableTrack:!1,ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]}),emits:["beforeChange","afterChange","change"],displayName:"Range",data(){const{count:e,min:o,max:t}=this,n=Array(...Array(e+1)).map(()=>o),a=Z(this,"defaultValue")?this.defaultValue:n;let{value:s}=this;s===void 0&&(s=a);const r=s.map((l,u)=>G({value:l,handle:u,props:this.$props}));return{sHandle:null,recent:r[0]===t?0:r.length-1,bounds:r}},watch:{value:{handler(e){const{bounds:o}=this;this.setChangeValue(e||o)},deep:!0},min(){const{value:e}=this;this.setChangeValue(e||this.bounds)},max(){const{value:e}=this;this.setChangeValue(e||this.bounds)}},methods:{setChangeValue(e){const{bounds:o}=this;let t=e.map((n,a)=>G({value:n,handle:a,bounds:o,props:this.$props}));if(o.length===t.length){if(t.every((n,a)=>n===o[a]))return null}else t=e.map((n,a)=>G({value:n,handle:a,props:this.$props}));if(this.setState({bounds:t}),e.some(n=>Se(n,this.$props))){const n=e.map(a=>ne(a,this.$props));this.$emit("change",n)}},onChange(e){if(!Z(this,"value"))this.setState(e);else{const a={};["sHandle","recent"].forEach(s=>{e[s]!==void 0&&(a[s]=e[s])}),Object.keys(a).length&&this.setState(a)}const n=f(f({},this.$data),e).bounds;this.$emit("change",n)},positionGetValue(e){const o=this.getValue(),t=this.calcValueByPos(e),n=this.getClosestBound(t),a=this.getBoundNeedMoving(t,n),s=o[a];if(t===s)return null;const r=[...o];return r[a]=t,r},onStart(e){const{bounds:o}=this;this.$emit("beforeChange",o);const t=this.calcValueByPos(e);this.startValue=t,this.startPosition=e;const n=this.getClosestBound(t);this.prevMovedHandleIndex=this.getBoundNeedMoving(t,n),this.setState({sHandle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});const a=o[this.prevMovedHandleIndex];if(t===a)return;const s=[...o];s[this.prevMovedHandleIndex]=t,this.onChange({bounds:s})},onEnd(e){const{sHandle:o}=this;this.removeDocumentEvents(),o||(this.dragTrack=!1),(o!==null||e)&&this.$emit("afterChange",this.bounds),this.setState({sHandle:null})},onMove(e,o,t,n){W(e);const{$data:a,$props:s}=this,r=s.max||100,i=s.min||0;if(t){let b=s.vertical?-o:o;b=s.reverse?-b:b;const C=r-Math.max(...n),y=i-Math.min(...n),w=Math.min(Math.max(b/(this.getSliderLength()/100),y),C),h=n.map(x=>Math.floor(Math.max(Math.min(x+w,r),i)));a.bounds.map((x,d)=>x===h[d]).some(x=>!x)&&this.onChange({bounds:h});return}const{bounds:l,sHandle:u}=this,c=this.calcValueByPos(o),m=l[u];c!==m&&this.moveTo(c)},onKeyboard(e){const{reverse:o,vertical:t}=this.$props,n=Ve(e,t,o);if(n){W(e);const{bounds:a,sHandle:s}=this,r=a[s===null?this.recent:s],i=n(r,this.$props),l=G({value:i,handle:s,bounds:a,props:this.$props});if(l===r)return;this.moveTo(l,!0)}},getClosestBound(e){const{bounds:o}=this;let t=0;for(let n=1;n<o.length-1;n+=1)e>=o[n]&&(t=n);return Math.abs(o[t+1]-e)<Math.abs(o[t]-e)&&(t+=1),t},getBoundNeedMoving(e,o){const{bounds:t,recent:n}=this;let a=o;const s=t[o+1]===t[o];return s&&t[n]===t[o]&&(a=n),s&&e!==t[o+1]&&(a=e<t[o+1]?o:o+1),a},getLowerBound(){return this.bounds[0]},getUpperBound(){const{bounds:e}=this;return e[e.length-1]},getPoints(){const{marks:e,step:o,min:t,max:n}=this,a=this.internalPointsCache;if(!a||a.marks!==e||a.step!==o){const s=f({},e);if(o!==null)for(let i=t;i<=n;i+=o)s[i]=i;const r=Object.keys(s).map(parseFloat);r.sort((i,l)=>i-l),this.internalPointsCache={marks:e,step:o,points:r}}return this.internalPointsCache.points},moveTo(e,o){const t=[...this.bounds],{sHandle:n,recent:a}=this,s=n===null?a:n;t[s]=e;let r=s;this.$props.pushable!==!1?this.pushSurroundingHandles(t,r):this.$props.allowCross&&(t.sort((i,l)=>i-l),r=t.indexOf(e)),this.onChange({recent:r,sHandle:r,bounds:t}),o&&(this.$emit("afterChange",t),this.setState({},()=>{this.handlesRefs[r].focus()}),this.onEnd())},pushSurroundingHandles(e,o){const t=e[o],{pushable:n}=this,a=Number(n);let s=0;if(e[o+1]-t<a&&(s=1),t-e[o-1]<a&&(s=-1),s===0)return;const r=o+s,i=s*(e[r]-t);this.pushHandle(e,r,s,a-i)||(e[o]=e[r]-s*a)},pushHandle(e,o,t,n){const a=e[o];let s=e[o];for(;t*(s-a)<n;){if(!this.pushHandleOnePoint(e,o,t))return e[o]=a,!1;s=e[o]}return!0},pushHandleOnePoint(e,o,t){const n=this.getPoints(),s=n.indexOf(e[o])+t;if(s>=n.length||s<0)return!1;const r=o+t,i=n[s],{pushable:l}=this,u=Number(l),c=t*(e[r]-i);return this.pushHandle(e,r,t,u-c)?(e[o]=i,!0):!1},trimAlignValue(e){const{sHandle:o,bounds:t}=this;return G({value:e,handle:o,bounds:t,props:this.$props})},ensureValueNotConflict(e,o,t){let{allowCross:n,pushable:a}=t;const s=this.$data||{},{bounds:r}=s;if(e=e===void 0?s.sHandle:e,a=Number(a),!n&&e!=null&&r!==void 0){if(e>0&&o<=r[e-1]+a)return r[e-1]+a;if(e<r.length-1&&o>=r[e+1]-a)return r[e+1]-a}return o},getTrack(e){let{bounds:o,prefixCls:t,reverse:n,vertical:a,included:s,offsets:r,trackStyle:i}=e;return o.slice(0,-1).map((l,u)=>{const c=u+1,m=_({[`${t}-track`]:!0,[`${t}-track-${c}`]:!0});return V(te,{class:m,vertical:a,reverse:n,included:s,offset:r[c-1],length:r[c]-r[c-1],style:i[u],key:c},null)})},renderSlider(){const{sHandle:e,bounds:o,prefixCls:t,vertical:n,included:a,disabled:s,min:r,max:i,reverse:l,handle:u,defaultHandle:c,trackStyle:m,handleStyle:b,tabindex:C,ariaLabelGroupForHandles:y,ariaLabelledByGroupForHandles:w,ariaValueTextFormatterGroupForHandles:h}=this,x=u||c,d=o.map(S=>this.calcOffset(S)),$=`${t}-handle`,B=o.map((S,v)=>{let p=C[v]||0;(s||C[v]===null)&&(p=null);const M=e===v;return x({class:_({[$]:!0,[`${$}-${v+1}`]:!0,[`${$}-dragging`]:M}),prefixCls:t,vertical:n,dragging:M,offset:d[v],value:S,index:v,tabindex:p,min:r,max:i,reverse:l,disabled:s,style:b[v],ref:O=>this.saveHandle(v,O),onFocus:this.onFocus,onBlur:this.onBlur,ariaLabel:y[v],ariaLabelledBy:w[v],ariaValueTextFormatter:h[v]})});return{tracks:this.getTrack({bounds:o,prefixCls:t,reverse:l,vertical:n,included:a,offsets:d,trackStyle:m}),handles:B}}}}),ht=Be(dt),ft=z({compatConfig:{MODE:3},name:"SliderTooltip",inheritAttrs:!1,props:ke(),setup(e,o){let{attrs:t,slots:n}=o;const a=Y(null),s=Y(null);function r(){oe.cancel(s.value),s.value=null}function i(){s.value=oe(()=>{var u;(u=a.value)===null||u===void 0||u.forcePopupAlign(),s.value=null})}const l=()=>{r(),e.open&&i()};return Je([()=>e.open,()=>e.title],()=>{l()},{flush:"post",immediate:!0}),qe(()=>{l()}),ge(()=>{r()}),()=>V(Fe,P(P({ref:a},e),t),n)}}),pt=e=>{const{componentCls:o,controlSize:t,dotSize:n,marginFull:a,marginPart:s,colorFillContentHover:r}=e;return{[o]:f(f({},De(e)),{position:"relative",height:t,margin:`${s}px ${a}px`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${a}px ${s}px`},[`${o}-rail`]:{position:"absolute",backgroundColor:e.colorFillTertiary,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},[`${o}-track`]:{position:"absolute",backgroundColor:e.colorPrimaryBorder,borderRadius:e.borderRadiusXS,transition:`background-color ${e.motionDurationMid}`},"&:hover":{[`${o}-rail`]:{backgroundColor:e.colorFillSecondary},[`${o}-track`]:{backgroundColor:e.colorPrimaryBorderHover},[`${o}-dot`]:{borderColor:r},[`${o}-handle::after`]:{boxShadow:`0 0 0 ${e.handleLineWidth}px ${e.colorPrimaryBorderHover}`},[`${o}-dot-active`]:{borderColor:e.colorPrimary}},[`${o}-handle`]:{position:"absolute",width:e.handleSize,height:e.handleSize,outline:"none",[`${o}-dragging`]:{zIndex:1},"&::before":{content:'""',position:"absolute",insetInlineStart:-e.handleLineWidth,insetBlockStart:-e.handleLineWidth,width:e.handleSize+e.handleLineWidth*2,height:e.handleSize+e.handleLineWidth*2,backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:e.handleSize,height:e.handleSize,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${e.handleLineWidth}px ${e.colorPrimaryBorder}`,borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${e.motionDurationMid},
            inset-block-start ${e.motionDurationMid},
            width ${e.motionDurationMid},
            height ${e.motionDurationMid},
            box-shadow ${e.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:-((e.handleSizeHover-e.handleSize)/2+e.handleLineWidthHover),insetBlockStart:-((e.handleSizeHover-e.handleSize)/2+e.handleLineWidthHover),width:e.handleSizeHover+e.handleLineWidthHover*2,height:e.handleSizeHover+e.handleLineWidthHover*2},"&::after":{boxShadow:`0 0 0 ${e.handleLineWidthHover}px ${e.colorPrimary}`,width:e.handleSizeHover,height:e.handleSizeHover,insetInlineStart:(e.handleSize-e.handleSizeHover)/2,insetBlockStart:(e.handleSize-e.handleSizeHover)/2}}},[`${o}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${o}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${o}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${o}-dot`]:{position:"absolute",width:n,height:n,backgroundColor:e.colorBgElevated,border:`${e.handleLineWidth}px solid ${e.colorBorderSecondary}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,"&-active":{borderColor:e.colorPrimaryBorder}},[`&${o}-disabled`]:{cursor:"not-allowed",[`${o}-rail`]:{backgroundColor:`${e.colorFillSecondary} !important`},[`${o}-track`]:{backgroundColor:`${e.colorTextDisabled} !important`},[`
          ${o}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed"},[`${o}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:e.handleSize,height:e.handleSize,boxShadow:`0 0 0 ${e.handleLineWidth}px ${new Qe(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString()}`,insetInlineStart:0,insetBlockStart:0},[`
          ${o}-mark-text,
          ${o}-dot
        `]:{cursor:"not-allowed !important"}}})}},we=(e,o)=>{const{componentCls:t,railSize:n,handleSize:a,dotSize:s}=e,r=o?"paddingBlock":"paddingInline",i=o?"width":"height",l=o?"height":"width",u=o?"insetBlockStart":"insetInlineStart",c=o?"top":"insetInlineStart";return{[r]:n,[l]:n*3,[`${t}-rail`]:{[i]:"100%",[l]:n},[`${t}-track`]:{[l]:n},[`${t}-handle`]:{[u]:(n*3-a)/2},[`${t}-mark`]:{insetInlineStart:0,top:0,[c]:a,[i]:"100%"},[`${t}-step`]:{insetInlineStart:0,top:0,[c]:n,[i]:"100%",[l]:n},[`${t}-dot`]:{position:"absolute",[u]:(n-s)/2}}},mt=e=>{const{componentCls:o,marginPartWithMark:t}=e;return{[`${o}-horizontal`]:f(f({},we(e,!0)),{[`&${o}-with-marks`]:{marginBottom:t}})}},gt=e=>{const{componentCls:o}=e;return{[`${o}-vertical`]:f(f({},we(e,!1)),{height:"100%"})}},vt=Le("Slider",e=>{const o=Ne(e,{marginPart:(e.controlHeight-e.controlSize)/2,marginFull:e.controlSize/2,marginPartWithMark:e.controlHeightLG-e.controlSize});return[pt(o),mt(o),gt(o)]},e=>{const t=e.controlHeightLG/4,n=e.controlHeightSM/2,a=e.lineWidth+1,s=e.lineWidth+1*3;return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:n,dotSize:8,handleLineWidth:a,handleLineWidthHover:s}});var fe=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)o.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const bt=e=>typeof e=="number"?e.toString():"",yt=()=>({id:String,prefixCls:String,tooltipPrefixCls:String,range:R([Boolean,Object]),reverse:E(),min:Number,max:Number,step:R([Object,Number]),marks:Ae(),dots:E(),value:R([Array,Number]),defaultValue:R([Array,Number]),included:E(),disabled:E(),vertical:E(),tipFormatter:R([Function,Object],()=>bt),tooltipOpen:E(),tooltipVisible:E(),tooltipPlacement:_e(),getTooltipPopupContainer:I(),autofocus:E(),handleStyle:R([Array,Object]),trackStyle:R([Array,Object]),onChange:I(),onAfterChange:I(),onFocus:I(),onBlur:I(),"onUpdate:value":I()}),xt=z({compatConfig:{MODE:3},name:"ASlider",inheritAttrs:!1,props:yt(),slots:Object,setup(e,o){let{attrs:t,slots:n,emit:a,expose:s}=o;const{prefixCls:r,rootPrefixCls:i,direction:l,getPopupContainer:u,configProvider:c}=Re("slider",e),[m,b]=vt(r),C=je(),y=Y(),w=Y({}),h=(p,M)=>{w.value[p]=M},x=ve(()=>e.tooltipPlacement?e.tooltipPlacement:e.vertical?l.value==="rtl"?"left":"right":"top"),d=()=>{var p;(p=y.value)===null||p===void 0||p.focus()},$=()=>{var p;(p=y.value)===null||p===void 0||p.blur()},B=p=>{a("update:value",p),a("change",p),C.onFieldChange()},S=p=>{a("blur",p)};s({focus:d,blur:$});const v=p=>{var{tooltipPrefixCls:M}=p,O=p.info,{value:T,dragging:N,index:H}=O,k=fe(O,["value","dragging","index"]);const{tipFormatter:F,tooltipOpen:U=e.tooltipVisible,getTooltipPopupContainer:J}=e,Me=F?w.value[H]||N:!1,Te=U||U===void 0&&Me;return V(ft,{prefixCls:M,title:F?F(T):"",open:Te,placement:x.value,transitionName:`${i.value}-zoom-down`,key:H,overlayClassName:`${r.value}-tooltip`,getPopupContainer:J||(u==null?void 0:u.value)},{default:()=>[V(xe,P(P({},k),{},{value:T,onMouseenter:()=>h(H,!0),onMouseleave:()=>h(H,!1)}),null)]})};return()=>{const{tooltipPrefixCls:p,range:M,id:O=C.id.value}=e,T=fe(e,["tooltipPrefixCls","range","id"]),N=c.getPrefixCls("tooltip",p),H=_(t.class,{[`${r.value}-rtl`]:l.value==="rtl"},b.value);l.value==="rtl"&&!T.vertical&&(T.reverse=!T.reverse);let k;return typeof M=="object"&&(k=M.draggableTrack),m(M?V(ht,P(P(P({},t),T),{},{step:T.step,draggableTrack:k,class:H,ref:y,handle:F=>v({tooltipPrefixCls:N,prefixCls:r.value,info:F}),prefixCls:r.value,onChange:B,onBlur:S}),{mark:n.mark}):V(ut,P(P(P({},t),T),{},{id:O,step:T.step,class:H,ref:y,handle:F=>v({tooltipPrefixCls:N,prefixCls:r.value,info:F}),prefixCls:r.value,onChange:B,onBlur:S}),{mark:n.mark}))}}}),St=Ee(xt),$t={class:"flex"},Ct="*Apply To All*",Nt=z({__name:"activation-ratio",setup(e){const o=Ze({checkboxConfig:{highlight:!0,labelField:"name"},columns:[{field:"domain",title:L("page.p2p.name"),minWidth:250},{field:"ratio",title:L("page.p2p.activationRatioStatus"),slots:{default:"ratio"},minWidth:250},{field:"operation",title:L("common.operation"),slots:{default:"operation"},width:150}],editConfig:{mode:"cell",trigger:"manual"},height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:i=>q(this,[i],function*({page:r}){let l=yield Ge({page:r.currentPage,page_size:r.pageSize,isvalid:1});return l=l.filter(u=>!u.blocked),l.length>1&&l.unshift({domain:Ct,id:0,blocked:!1,ratio:100}),{items:l,total:1e3}})}}}),[t,n]=Ue({gridOptions:o});function a(r){s(`${r.id}`,{ratio:r.ratio})}function s(r,i){return q(this,null,function*(){n.setLoading(!0);const[l]=yield at(Ke(r,i));if(n.setLoading(!1),l){ae.error({description:L("page.p2p.configFail"),message:L("common.error")});return}ae.success({description:L("page.p2p.configSuccess"),message:L("common.success")}),n.reload()})}return(r,i)=>(re(),ie(j(Xe),{description:j(L)("page.p2p.activationRatioDesc"),"auto-content-height":""},{default:X(()=>[V(j(t),null,{ratio:X(({row:l})=>[et("div",$t,[V(j(St),{value:l.ratio,"onUpdate:value":u=>l.ratio=u,max:100,min:0,class:"mr-4 flex-1"},null,8,["value","onUpdate:value"]),V(j(ze),{value:l.ratio,"onUpdate:value":u=>l.ratio=u},null,8,["value","onUpdate:value"])])]),operation:X(({row:l})=>[l.blocked?ot("",!0):(re(),ie(j(Ie),{key:0,type:"primary",onClick:We(u=>a(l),["prevent"])},{default:X(()=>[tt(nt(j(L)("common.ok")),1)]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["description"]))}});export{Nt as default};
