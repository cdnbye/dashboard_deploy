var $=(t,e,n)=>new Promise((i,r)=>{var l=p=>{try{m(n.next(p))}catch(f){r(f)}},y=p=>{try{m(n.throw(p))}catch(f){r(f)}},m=p=>p.done?i(p.value):Promise.resolve(p.value).then(l,y);m((n=n.apply(t,e)).next())});import{v as Y,d8 as W,w as F,L as Z,i as K,o as Q,u as J,bh as X,aG as ee,c6 as V,a as te,d7 as ne,c as L,$ as v,aI as z,y as ie,d9 as oe,j as se,da as re,db as ae,dc as ce,dd as U,k as pe,f as ue}from"./bootstrap-QC5HPXIW.js";import{u as le}from"./app-DUrdUZ6y.js";import{a5 as T,aY as de,aZ as fe,X as A,af as _,ag as j,w as h,ah as g,ab as a,ai as he,R as D,J as k,a6 as H,ak as M,aj as B,al as x,F as me,n as we,e as ge,bw as ye,bJ as Ie,a2 as ve,av as Ce}from"../jse/index-index-C5kN0FgG.js";import{u as N}from"./use-modal-BWnJd4PN.js";import{u as G}from"./form-Bsu9NQNs.js";import{e as Se}from"./order-4Jd3KM5_.js";import{_ as $e,a as be,b as _e,c as Ne}from"./layout.vue_vue_type_script_setup_true_lang-CE8iQ-fy.js";import"./domain-DYNLDaZf.js";import"./x-t2EEVmmI.js";import"./loading-CjfJb0X9.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-p-_H41mU.js";import"./arrow-down-Csnx1VtV.js";import"./use-drawer-BaaVqxAC.js";import"./copy-Dk1hyFt6.js";import"./rotate-cw-BSyYpCHQ.js";const ke=Y("BookOpenTextIcon",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]);var Te=function(){function t(e){this.parent=e}return t.prototype.setMessageText=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","message:text",[e]])},t.prototype.send=function(e,n){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:send",[e,n]])},t.prototype.sendText=function(e){this.send("text",e)},t.prototype.sendFile=function(e){this.send("file",e)},t.prototype.sendAnimation=function(e){this.send("animation",e)},t.prototype.sendAudio=function(e){this.send("audio",e)},t.prototype.show=function(e,n){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:show",[e,n]])},t.prototype.showText=function(e){this.show("text",e)},t.prototype.showFile=function(e){this.show("file",e)},t.prototype.showAnimation=function(e){this.show("animation",e)},t.prototype.showAudio=function(e){this.show("audio",e)},t.prototype.showPicker=function(e){this.show("picker",e)},t.prototype.showField=function(e){this.show("field",e)},t.prototype.showCarousel=function(e){this.show("carousel",e)},t.prototype.markAsRead=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:read"])},t.prototype.startThread=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:thread:start",[e]])},t.prototype.endThread=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","message:thread:end",[e]])},t.prototype.onMessageSent=function(e){this.parent.createSingletonIfNecessary(),this.offMessageSent(),window.$crisp.push(["on","message:sent",e])},t.prototype.offMessageSent=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:sent"])},t.prototype.onMessageReceived=function(e){this.parent.createSingletonIfNecessary(),this.offMessageReceived(),window.$crisp.push(["on","message:received",e])},t.prototype.offMessageReceived=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:received"])},t.prototype.onMessageComposeSent=function(e){this.parent.createSingletonIfNecessary(),this.offMessageComposeSent(),window.$crisp.push(["on","message:compose:sent",e])},t.prototype.offMessageComposeSent=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:compose:sent"])},t.prototype.onMessageComposeReceived=function(e){this.parent.createSingletonIfNecessary(),this.offMessageComposeReceived(),window.$crisp.push(["on","message:compose:received",e])},t.prototype.offMessageComposeReceived=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","message:compose:received"])},t}(),Me=function(){function t(e){this.parent=e}return t.prototype.setNickname=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:nickname",[e]])},t.prototype.setEmail=function(e,n){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:email",[e,n]])},t.prototype.setPhone=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:phone",[e]])},t.prototype.setAvatar=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:avatar",[e]])},t.prototype.setCompany=function(e,n){var i={};n&&(n.url&&(i.url=n.url),n.description&&(i.description=n.description),n.employment&&(i.employment=[n.employment.title],n.employment.role&&i.employment.push(n.employment.role))),this.parent.createSingletonIfNecessary(),window.$crisp.push(["set","user:company",[e,i]])},t.prototype.getEmail=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:email"):null},t.prototype.getPhone=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:phone"):null},t.prototype.getNickname=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:nickname"):null},t.prototype.getAvatar=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:avatar"):null},t.prototype.getCompany=function(){return this.parent.isCrispInjected()?window.$crisp.get("user:company"):null},t.prototype.onEmailChanged=function(e){this.parent.isCrispInjected()&&(this.offEmailChanged(),window.$crisp.push(["on","user:email:changed",e]))},t.prototype.offEmailChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:email:changed"])},t.prototype.onPhoneChanged=function(e){this.parent.isCrispInjected()&&(this.offPhoneChanged(),window.$crisp.push(["on","user:phone:changed",e]))},t.prototype.offPhoneChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:phone:changed"])},t.prototype.onNicknameChanged=function(e){this.parent.isCrispInjected()&&(this.offNicknameChanged(),window.$crisp.push(["on","user:nickname:changed",e]))},t.prototype.offNicknameChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:nickname:changed"])},t.prototype.onAvatarChanged=function(e){this.parent.isCrispInjected()&&(this.offAvatarChanged(),window.$crisp.push(["on","user:avatar:changed",e]))},t.prototype.offAvatarChanged=function(){this.parent.isCrispInjected()&&window.$crisp.push(["off","user:avatar:changed"])},t}(),Ue=function(){function t(e){this.parent=e}return t.prototype.run=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","trigger:run",[e]])},t}(),R;(function(t){t.Red="red",t.Orange="orange",t.Yellow="yellow",t.Green="green",t.Blue="blue",t.Purple="purple",t.Pink="pink",t.Brown="brown",t.Grey="grey",t.Black="black"})(R||(R={}));var De=function(){function t(e){this.parent=e}return t.prototype.reset=function(e){e===void 0&&(e=!1),this.parent.isCrispInjected()&&window.$crisp.push(["do","session:reset",[e]])},t.prototype.setSegments=function(e,n){this.parent.createSingletonIfNecessary(),$crisp.push(["set","session:segments",[e,n]])},t.prototype.setData=function(e){var n=this,i=[];Object.entries(e).forEach(function(r){n.isValidDataValue(r[0])&&i.push([r[0],r[1]])}),this.parent.createSingletonIfNecessary(),$crisp.push(["set","session:data",[i]])},t.prototype.pushEvent=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=R.Blue),this.parent.isCrispInjected()&&window.$crisp.push(["set","session:event",[[[e,n,i]]]])},t.prototype.getData=function(e){if(this.parent.isCrispInjected())return window.$crisp.get("session:data",e)},t.prototype.getIdentifier=function(){return this.parent.isCrispInjected()?window.$crisp.get("session:identifier"):null},t.prototype.onLoaded=function(e){this.parent.createSingletonIfNecessary(),this.offLoaded(),window.$crisp.push(["on","session:loaded",e])},t.prototype.offLoaded=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","session:loaded"])},t.prototype.isValidDataValue=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"},t}(),Pe=function(){function t(e){this.parent=e}return t.prototype.show=function(){this.parent.autoInjectIfNecessary(),window.$crisp.push(["do","chat:show"])},t.prototype.hide=function(){this.parent.autoInjectIfNecessary(),window.$crisp.push(["do","chat:hide"])},t.prototype.open=function(){this.parent.autoInjectIfNecessary(),window.$crisp.push(["do","chat:open"])},t.prototype.close=function(){this.parent.isCrispInjected()&&window.$crisp.push(["do","chat:close"])},t.prototype.setHelpdeskView=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","helpdesk:search"])},t.prototype.openHelpdeskArticle=function(e,n,i,r){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","helpdesk:article:open",[e,n,i,r]])},t.prototype.queryHelpdesk=function(e){this.parent.createSingletonIfNecessary(),window.$crisp.push(["do","helpdesk:query",[e]])},t.prototype.unreadCount=function(){return this.parent.isCrispInjected()?window.$crisp.get("chat:unread:count"):0},t.prototype.isChatOpened=function(){return this.parent.isCrispInjected()?window.$crisp.is("chat:opened"):!1},t.prototype.isVisible=function(){return this.parent.isCrispInjected()?window.$crisp.is("chat:visible"):!1},t.prototype.onChatInitiated=function(e){this.parent.createSingletonIfNecessary(),this.offChatInitiated(),window.$crisp.push(["on","chat:initiated",e])},t.prototype.offChatInitiated=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","chat:initiated"])},t.prototype.onChatOpened=function(e){this.parent.createSingletonIfNecessary(),this.offChatOpened(),window.$crisp.push(["on","chat:opened",e])},t.prototype.offChatOpened=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","chat:opened"])},t.prototype.onChatClosed=function(e){this.parent.createSingletonIfNecessary(),this.offChatClosed(),window.$crisp.push(["on","chat:closed",e])},t.prototype.offChatClosed=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","chat:closed"])},t.prototype.onHelpdeskQueried=function(e){this.parent.createSingletonIfNecessary(),this.offHelpdeskQueried(),window.$crisp.push(["on","helpdesk:queried",e])},t.prototype.offHelpdeskQueried=function(){this.parent.createSingletonIfNecessary(),window.$crisp.push(["off","helpdesk:queried"])},t}(),E;(function(t){t.Default="default",t.Amber="amber",t.Black="black",t.Blue="blue",t.BlueGrey="blue_grey",t.LightBlue="light_blue",t.Brown="brown",t.Cyan="cyan",t.Green="green",t.LightGreen="light_green",t.Grey="grey",t.Indigo="indigo",t.Orange="orange",t.DeepOrange="deep_orange",t.Pink="pink",t.Purple="purple",t.DeepPurple="deep_purple",t.Red="red",t.Teal="teal"})(E||(E={}));var O;(function(t){t.Left="left",t.Right="right"})(O||(O={}));var Ae=function(){function t(){this.clientUrl="https://client.crisp.chat/l.js",this.websiteId="",this.autoload=!0,this.injected=!1,this.chat=new Pe(this),this.session=new De(this),this.user=new Me(this),this.message=new Te(this),this.trigger=new Ue(this)}return t.prototype.configure=function(e,n){n===void 0&&(n={}),this.websiteId=e,this.tokenId=n.tokenId,this.locale=n.locale,this.sessionMerge=n.sessionMerge,this.cookieDomain=n.cookieDomain,this.cookieExpire=n.cookieExpire,this.lockFullview=n.lockFullview,this.lockMaximized=n.lockMaximized,this.safeMode=n.safeMode,n.clientUrl!==void 0&&(this.clientUrl=n.clientUrl),n.autoload!==void 0&&(this.autoload=n.autoload),this.autoload&&this.load()},t.prototype.load=function(){var e=document.getElementsByTagName("head");if(this.createSingletonIfNecessary(),this.isCrispInjected()!==!0){if(!this.websiteId)throw new Error("websiteId must be set before loading Crisp");if(window.CRISP_WEBSITE_ID=this.websiteId,window.CRISP_RUNTIME_CONFIG={},this.tokenId&&(window.CRISP_TOKEN_ID=this.tokenId),this.sessionMerge&&(window.CRISP_RUNTIME_CONFIG.session_merge=!0),this.locale&&(window.CRISP_RUNTIME_CONFIG.locale=this.locale),this.lockFullview&&(window.CRISP_RUNTIME_CONFIG.lock_full_view=!0),this.lockMaximized&&(window.CRISP_RUNTIME_CONFIG.lock_maximized=!0),this.cookieDomain&&(window.CRISP_COOKIE_DOMAIN=this.cookieDomain),this.cookieExpire&&(window.CRISP_COOKIE_EXPIRE=this.cookieExpire),!e||!e[0])return this.deferredLoading();this.safeMode===!0&&this.setSafeMode(!0);var n=document.createElement("script");n.src=this.clientUrl,n.async=!0,e[0].appendChild(n),this.injected=!0}},t.prototype.setTokenId=function(e){this.tokenId=e,this.isCrispInjected()===!0&&(e?window.CRISP_TOKEN_ID=e:delete window.CRISP_TOKEN_ID)},t.prototype.setZIndex=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","container:index",[e]])},t.prototype.setColorTheme=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","color:theme",[e]])},t.prototype.setHideOnAway=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","hide:on:away",[e]])},t.prototype.setHideOnMobile=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","hide:on:mobile",[e]])},t.prototype.setPosition=function(e){this.createSingletonIfNecessary(),$crisp.push(["config","position:reverse",[e===O.Left]])},t.prototype.setAvailabilityTooltip=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","availability:tooltip",[e]])},t.prototype.setVacationMode=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","hide:vacation",[e]])},t.prototype.setSafeMode=function(e){e===void 0&&(e=!0),this.createSingletonIfNecessary(),window.$crisp.push(["safe",e])},t.prototype.muteSound=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","sound:mute",[e]])},t.prototype.toggleOperatorCount=function(e){this.createSingletonIfNecessary(),window.$crisp.push(["config","show:operator:count",[e]])},t.prototype.onWebsiteAvailabilityChanged=function(e){this.createSingletonIfNecessary(),this.offWebsiteAvailabilityChanged(),window.$crisp.push(["on","website:availability:changed",e])},t.prototype.offWebsiteAvailabilityChanged=function(){this.createSingletonIfNecessary(),window.$crisp.push(["off","website:availability:changed"])},t.prototype.createSingletonIfNecessary=function(){window.$crisp===void 0&&(window.$crisp=[])},t.prototype.autoInjectIfNecessary=function(){this.isCrispInjected()||this.load()},t.prototype.isCrispInjected=function(){return!!(this.injected===!0||window.$crisp&&window.$crisp.is)},t.prototype.deferredLoading=function(){var e=this;document.addEventListener("DOMContentLoaded",function(){e.load()})},t}(),P=new Ae;function je(){P.configure("4eed08c4-730f-4676-9f60-89f098f236b2",{autoload:!1}),P.setHideOnAway(!0),P.load()}const Re=T({name:"LoginExpiredModal",__name:"login-expired-modal",props:de({avatar:{default:""},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(t){const e=fe(t,"open"),[n,i]=N();return A(()=>e.value,r=>{i.setState({isOpen:r})}),(r,l)=>(_(),j("div",null,[h(a(n),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:g(()=>[h(a($e),{src:r.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),h(a(W),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":r.$t("authentication.loginAgainSubTitle"),title:r.$t("authentication.loginAgainTitle")},{default:g(()=>[he(r.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3})]))}});function Oe(t){return $(this,null,function*(){const n=F().accessUserId;return Z.put(`user/user_id/${n}/timezone`,t)})}const xe=T({__name:"domain-select",setup(t){const{isMobile:e}=K(),n=le(),i=D([]),r=D([]),l=D(),y=Q(),m=new Set(["UserClientDistributionWorld","UserClientHistoryOnline","UserClientHistoryRate","UserClientHistoryRebuffer","UserClientLiveDataPerApp"]),p=k(()=>m.has(y.name)),[f,u]=J({handleSubmit:o=>{I(o.domain)},layout:"vertical",schema:[{component:"Select",componentProps:{placeholder:"Domain",class:"w-full",onChange:I},fieldName:"domain",label:"Domain",rules:"required"}],showDefaultActions:!1}),[C,d]=N({footer:!1,onConfirm:()=>{u.submitForm(),d.close()}});function I(o){var c;const s=n.domains.find(q=>`${q.id}`===o);s&&(n.setCurrentDomain(s),(c=d==null?void 0:d.close)==null||c.call(d))}function b(){we(()=>{u.updateSchema([{fieldName:"domain",componentProps:{options:i.value}}])})}H(()=>$(this,null,function*(){const o=yield n.fetchAllDomainAndAppLogic();r.value=o,i.value=o.map(c=>({label:c.domain,value:`${c.id}`}));const s=n.currentDomain;if(s)l.value=`${s==null?void 0:s.id}`,u.setValues({domain:`${s==null?void 0:s.id}`});else{const c=o[0];if(!c)return;l.value=`${c==null?void 0:c.id}`,u.setValues({domain:`${c==null?void 0:c.id}`}),n.setCurrentDomain(c)}b()})),A(()=>n.domains,()=>{const o=n.domains;r.value=o,i.value=o.map(s=>({label:s.domain,value:`${s.id}`})),b()}),A(()=>n.currentDomain,()=>{var o,s;l.value=`${(o=n.currentDomain)==null?void 0:o.id}`,u.setValues({domain:`${(s=n.currentDomain)==null?void 0:s.id}`})});function w(){var s;const o=ee();if(o)l.value=`${o==null?void 0:o.id}`,u.setValues({domain:`${o==null?void 0:o.id}`});else{const c=(s=r.value)==null?void 0:s[0];if(!c)return;l.value=`${c==null?void 0:c.id}`,u.setValues({domain:`${c==null?void 0:c.id}`}),n.setCurrentDomain(c)}}function S(){d.open(),w()}return(o,s)=>(_(),j(me,null,[p.value&&!a(e)?(_(),M(a(X),{key:0,value:l.value,"onUpdate:value":s[0]||(s[0]=c=>l.value=c),options:i.value,class:"mr-5 md:w-[200px]",placeholder:"Domain",onChange:I},null,8,["value","options"])):B("",!0),p.value&&a(e)?(_(),j("div",{key:1,class:"flex items-center",onClick:S},[h(a(C),{title:"Domain"},{default:g(()=>[h(a(f))]),_:1}),s[1]||(s[1]=x("span",{class:"icon-[tabler--list-search] anticon text-foreground/70 mr-1.5 size-3",style:{width:"24px",height:"24px"}},null,-1))])):B("",!0)],64))}}),Le=["innerHTML"],Be=T({__name:"recharge-modal",setup(t){const{locale:e}=V(),n=k(()=>e.value==="en-US"?"USD":"CNY"),i=te(),[r,l]=G({layout:"vertical",handleSubmit:p,commonConfig:{componentProps:{class:"w-full"}},schema:[{component:"InputNumber",fieldName:"price",label:"Price",rules:ne().min(n.value==="CNY"?100:10,{message:e.value==="en-US"?"The minimum recharge amount is 10":"最低充值金额为100"}).refine(f=>{const d=(n.value==="CNY"?/^(10\d|[1-9]\d\d|[1-9]\d\d\d|[1-9]\d\d\d\d)$/:/^[1-9]\d*0$/).test(`${f}`);return!d&&Number(f)>(n.value==="CNY"?100:10)&&(L.destroy("recharge"),L.warning({key:"recharge",content:ge("div",{innerHTML:`<div>${v("page.myInfo.rechargeTip")}</div>`})})),d})}],showDefaultActions:!1}),[y,m]=N({onConfirm:()=>$(this,null,function*(){yield l.submitForm()})});function p(f){return $(this,null,function*(){if(!(yield l.validate()).valid)return;m.setState({loading:!0});const C=n.value==="CNY",d=C?"充值人民幣":"Recharge USD",I=Number(f.price),b={price:I,currency:n.value,goods:[{subject:d,amount:1,price:I}],goods_type:C?"recharge_cny":"recharge_usd"};Se(b).then(w=>{i.push({name:"OrderDetail",query:{currency:n.value,orderID:w.order_id,totalPrice:I,buyData:JSON.stringify(b.goods)}}).then(()=>{m.close()})}).catch(w=>{console.error(w)}).finally(()=>{m.setState({loading:!1})})})}return(f,u)=>(_(),M(a(y),{title:a(v)("page.myInfo.recharge")},{description:g(()=>[x("div",{innerHTML:a(v)("page.myInfo.rechargeTip")},null,8,Le)]),default:g(()=>[h(a(r),{class:"mx-4"})]),_:1},8,["title"]))}}),Ee=T({__name:"time-zone-modal",emits:["success"],setup(t,{emit:e}){const n=e,i=[{value:12,label:"UTC±12"},{value:11,label:"UTC+11"},{value:10,label:"UTC+10"},{value:9,label:"UTC+9"},{value:8,label:"UTC+8"},{value:7,label:"UTC+7"},{value:6,label:"UTC+6"},{value:5,label:"UTC+5"},{value:4,label:"UTC+4"},{value:3,label:"UTC+3"},{value:2,label:"UTC+2"},{value:1,label:"UTC+1"},{value:0,label:"UTC+0"},{value:-1,label:"UTC-1"},{value:-2,label:"UTC-2"},{value:-3,label:"UTC-3"},{value:-4,label:"UTC-4"},{value:-5,label:"UTC-5"},{value:-6,label:"UTC-6"},{value:-7,label:"UTC-7"},{value:-8,label:"UTC-8"},{value:-9,label:"UTC-9"},{value:-10,label:"UTC-10"},{value:-11,label:"UTC-11"}],r=z(),[l,y]=G({layout:"vertical",handleSubmit:f,commonConfig:{componentProps:{class:"w-full"}},schema:[{component:"Select",fieldName:"zone",label:"Time Zone",componentProps:{options:i},rules:"required"}],showDefaultActions:!1}),[m,p]=N({onConfirm:()=>$(this,null,function*(){yield y.submitForm()})});function f(u){return $(this,null,function*(){if(!(yield y.validate()).valid)return;p.setState({loading:!0});const[d]=yield ye(Oe({utc:u.zone}));p.setState({loading:!1}),!d&&(p.close(),ie.success({message:v("common.success"),description:v("page.app.updateItemSuccess")}),n("success"))})}return H(()=>{var u;y.setValues({zone:(u=r.userInfo)==null?void 0:u.utc})}),(u,C)=>(_(),M(a(m),{description:a(v)("page.dashboard.changeUTCDesc"),title:a(v)("page.dashboard.changeUTC")},{default:g(()=>[h(a(l),{class:"mx-4"})]),_:1},8,["description","title"]))}}),Fe={class:"text-foreground/60 border-border flex items-center justify-between rounded-md border px-3 py-1.5 text-xs"},ot=T({__name:"basic",setup(t){const{zoneOptions:e}=oe(),n=z(),i=se(),r=F(),{locale:l}=V(),[y,m]=N({connectedComponent:Ee}),[p,f]=N({connectedComponent:Be}),u=k(()=>[{handler:()=>{const w=l.value==="en-US"?re:ae;Ie(w,{target:"_blank"})},icon:ke,text:v("common.docUrl")},{handler:()=>{ce.push("/user/edit")},icon:U,text:v("page.navbar.myInfo")},{handler:()=>{b()},icon:U,text:v("page.myInfo.recharge")},{handler:()=>{m.open()},icon:U,text:v("page.dashboard.changeUTC")}]),C=k(()=>{var w,S;return(S=(w=n.userInfo)==null?void 0:w.avatar)!=null?S:ve.app.defaultAvatar}),d=k(()=>{var S;const w=pe();return(S=e.value.find(o=>o.value===w))==null?void 0:S.label});function I(){return $(this,null,function*(){yield i.logout(!0)})}function b(){f.open()}return je(),(w,S)=>(_(),M(a(be),{onClearPreferencesAndLogout:I},{"header-left-1":g(()=>[x("div",Fe,Ce(d.value),1)]),"user-dropdown":g(()=>{var o,s;return[h(a(_e),{description:(o=a(n).userInfo)==null?void 0:o.email,menus:u.value,text:(s=a(n).userInfo)==null?void 0:s.name,onLogout:I},null,8,["description","menus","text"])]}),extra:g(()=>[h(a(y)),h(a(p)),h(a(Re),{open:a(r).loginExpired,"onUpdate:open":S[0]||(S[0]=o=>a(r).loginExpired=o),avatar:C.value},{default:g(()=>[h(ue)]),_:1},8,["open","avatar"])]),"lock-screen":g(()=>[h(a(Ne),{avatar:C.value,onToLogin:I},null,8,["avatar"])]),"header-right-1":g(()=>[h(xe)]),_:1}))}});export{ot as default};
