var m=(c,p,i)=>new Promise((d,u)=>{var a=t=>{try{n(i.next(t))}catch(l){u(l)}},s=t=>{try{n(i.throw(t))}catch(l){u(l)}},n=t=>t.done?d(t.value):Promise.resolve(t.value).then(a,s);n((i=i.apply(c,p)).next())});import{w as h,L as v,aI as y,$ as e,B as w,x,k as C}from"./bootstrap-QC5HPXIW.js";import{u as $}from"./vxe-table-BTsW-ApG.js";import{_ as S}from"./page.vue_vue_type_script_setup_true_lang-C2EvkboD.js";import{a5 as k,Y as I,af as B,ak as T,ah as r,ab as o,w as f,au as g,av as _}from"../jse/index-index-C5kN0FgG.js";import{c as V}from"./copy-DwUe13Ey.js";import"./loading-CjfJb0X9.js";import"./form-Bsu9NQNs.js";import"./RightOutlined-DGpcx4_N.js";import"./x-t2EEVmmI.js";function b(c){return m(this,null,function*(){const i=h().accessUserId;return v.get(`user/user_id/${i}/invite_records`,{params:c})})}const L=k({__name:"index",setup(c){const p=y(),i=I({columns:[{field:"created_at",title:e("page.invitation.date"),formatter:"formatDateTime",width:200},{field:"from",title:e("page.invitation.from"),width:220},{field:"original_price",title:e("page.invitation.price"),width:150},{field:"currency",title:e("page.order.currency"),width:100},{field:"status",title:e("page.invitation.status"),width:150,slots:{default:"status"}},{field:"amount",title:e("page.invitation.commission"),width:100}],height:"auto",pagerConfig:{},proxyConfig:{ajax:{query:s=>m(this,[s],function*({page:a}){return{items:yield b({page:a.currentPage,page_size:a.pageSize}),total:1e3}})}}}),[d]=$({gridOptions:i});function u(){const a=`${location.origin+location.pathname}#/signup`,s=p.userInfo;if(!s)return;const n=C(),t=`${a}?zone=${n}&inviter=${encodeURIComponent(s.email)}`;V(t)}return(a,s)=>(B(),T(o(S),{description:o(e)("page.invitation.desc"),"auto-content-height":""},{default:r(()=>[f(o(d),null,{"toolbar-actions":r(()=>[f(o(w),{class:"mr-2",type:"primary",onClick:u},{default:r(()=>[g(_(o(e)("page.invitation.copy")),1)]),_:1})]),status:r(()=>[f(o(x),{color:"success"},{default:r(()=>[g(_(o(e)("page.invitation.done")),1)]),_:1})]),_:1})]),_:1},8,["description"]))}});export{L as default};
