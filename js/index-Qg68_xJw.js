var m=(c,p,i)=>new Promise((d,u)=>{var a=t=>{try{n(i.next(t))}catch(l){u(l)}},s=t=>{try{n(i.throw(t))}catch(l){u(l)}},n=t=>t.done?d(t.value):Promise.resolve(t.value).then(a,s);n((i=i.apply(c,p)).next())});import{w as h,D as v,aA as y,$ as e,x as w,y as x,k as C}from"./bootstrap-DeA6qr60.js";import{u as $}from"./vxe-table-BMgaHfso.js";import{_ as S}from"./page.vue_vue_type_script_setup_true_lang-BWmwqVvU.js";import{a5 as k,Y as I,af as T,ak as V,ah as r,ab as o,w as f,au as g,av as _}from"../jse/index-index-CzcqLmIz.js";import{c as b}from"./copy-CcD-5WTS.js";import"./loading-DGZVBrfc.js";import"./form-NcPXO1Ha.js";import"./RightOutlined-wMm2eAtE.js";import"./x-2ADArCZp.js";function z(c){return m(this,null,function*(){const i=h().accessUserId;return v.get(`user/user_id/${i}/invite_records`,{params:c})})}const O=k({__name:"index",setup(c){const p=y(),i=I({columns:[{field:"created_at",title:e("page.invitation.date"),formatter:"formatDateTime",width:200},{field:"from",title:e("page.invitation.from"),width:220},{field:"original_price",title:e("page.invitation.price"),width:150},{field:"currency",title:e("page.order.currency"),width:100},{field:"status",title:e("page.invitation.status"),width:150,slots:{default:"status"}},{field:"amount",title:e("page.invitation.commission"),width:100}],height:"auto",pagerConfig:{},proxyConfig:{ajax:{query:s=>m(this,[s],function*({page:a}){return{items:yield z({page:a.currentPage,page_size:a.pageSize}),total:1e3}})}}}),[d]=$({gridOptions:i});function u(){const a=`${location.origin+location.pathname}#/signup`,s=p.userInfo;if(!s)return;const n=C(),t=`${a}?zone=${n}&inviter=${encodeURIComponent(s.email)}`;b(t)}return(a,s)=>(T(),V(o(S),{description:o(e)("page.invitation.desc"),"auto-content-height":""},{default:r(()=>[f(o(d),null,{"toolbar-actions":r(()=>[f(o(w),{class:"mr-2",type:"primary",onClick:u},{default:r(()=>[g(_(o(e)("page.invitation.copy")),1)]),_:1})]),status:r(()=>[f(o(x),{color:"success"},{default:r(()=>[g(_(o(e)("page.invitation.done")),1)]),_:1})]),_:1})]),_:1},8,["description"]))}});export{O as default};
