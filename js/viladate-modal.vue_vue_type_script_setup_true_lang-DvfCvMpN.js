var _=(D,y,m)=>new Promise((u,t)=>{var v=s=>{try{p(m.next(s))}catch(l){t(l)}},c=s=>{try{p(m.throw(s))}catch(l){t(l)}},p=s=>s.done?u(s.value):Promise.resolve(s.value).then(v,c);p((m=m.apply(D,y)).next())});import{y as T,$ as a,R as x,z as N}from"./bootstrap-Dm2SQx9s.js";import{c as C}from"./domain-aOLEt8vJ.js";import{A as F}from"./index-CVJ1NsE8.js";import{T as h,a as f}from"./index-CjEMLdRT.js";import{a5 as R,R as S,Y as A,bw as B,af as g,ak as V,ah as o,al as r,w as n,ab as e,av as i,au as d,aj as b,bD as E}from"../jse/index-index-CnArI7MG.js";import{u as H}from"./use-modal-B7SINb_e.js";const j={class:"pb-3"},M={class:"px-5"},O={class:"flex items-center py-3 pb-5"},$={class:"mr-5"},Y=R({__name:"viladate-modal",emits:["success"],setup(D,{emit:y}){const m=y,u=S("dns"),t=A({id:"",domain:"",text:""}),[v,c]=H({onConfirm:()=>_(this,null,function*(){p()}),onOpened(){const l=c.getData();Object.assign(t,l)}});function p(){return _(this,null,function*(){c.setState({loading:!0});const[l]=yield B(C(t.id));c.setState({loading:!1}),l||(T.success({message:a("common.success"),description:a("page.domain.verifySuccess")}),c.close(),m("success"))})}function s(){E({source:t.text,fileName:"auth.txt"})}return(l,w)=>(g(),V(e(v),{"cancel-text":e(a)("page.domain.verifyLater"),"confirm-text":e(a)("page.domain.verifyNow"),title:e(a)("page.domain.verifyDomain"),class:"w-1/2"},{default:o(()=>[r("div",j,[n(e(F),{closable:!1,description:e(a)("page.domain.certificationTip"),title:"",type:"warning"},null,8,["description"])]),r("div",M,[r("div",O,[r("div",$,i(e(a)("page.domain.userVerifyDomain.verifyWay")),1),n(e(N),{value:u.value,"onUpdate:value":w[0]||(w[0]=k=>u.value=k),name:"way"},{default:o(()=>[n(e(x),{value:"dns"},{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.DNSVerify")),1)]),_:1}),n(e(x),{value:"file"},{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.fileVerify")),1)]),_:1})]),_:1},8,["value"])]),u.value==="dns"?(g(),V(e(h),{key:0},{default:o(()=>[n(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.verifyTipHead"))+" "+i(t.domain)+" "+i(e(a)("page.domain.userVerifyDomain.verifyTipEnd"))+" ",1),r("div",null,i(t.text),1)]),_:1}),n(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.doneTip")),1)]),_:1})]),_:1})):b("",!0),u.value==="file"?(g(),V(e(h),{key:1},{default:o(()=>[n(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.downloadFileHead"))+" ",1),r("a",{class:"vben-link",onClick:s},i(e(a)("page.domain.userVerifyDomain.downloadFileEnd")),1)]),_:1}),n(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.uploadFile"))+"http://"+i(t.domain)+"/ or https://"+i(t.domain)+" ",1),r("div",null,i(e(a)("page.domain.userVerifyDomain.fileName")),1)]),_:1}),n(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.userVerifyDomain.navVisitHead"))+"http(s)://"+i(t.domain)+"/auth.txt "+i(e(a)("page.domain.userVerifyDomain.navVisitEnd")),1)]),_:1}),n(e(f),null,{default:o(()=>[d(i(e(a)("page.domain.doneTip")),1)]),_:1})]),_:1})):b("",!0)])]),_:1},8,["cancel-text","confirm-text","title"]))}});export{Y as _};
